"{
    "key":"//broker/src/main/java/org/apache/rocketmq/broker/metrics/ConsumerLagCalculator.java\npublic class ConsumerLagCalculator {\n    private final BrokerConfig brokerConfig;\n    private final TopicConfigManager topicConfigManager;\n    private final ConsumerManager consumerManager;\n    private final ConsumerOffsetManager offsetManager;\n    private final ConsumerFilterManager consumerFilterManager;\n    private final SubscriptionGroupManager subscriptionGroupManager;\n    private final MessageStore messageStore;\n    private final PopBufferMergeService popBufferMergeService;\n    private final PopInflightMessageCounter popInflightMessageCounter;\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(LoggerName.BROKER_LOGGER_NAME);\n\n    public ConsumerLagCalculator(BrokerController brokerController) {\n        this.brokerConfig = brokerController.getBrokerConfig();\n        this.topicConfigManager = brokerController.getTopicConfigManager();\n        this.consumerManager = brokerController.getConsumerManager();\n        this.offsetManager = brokerController.getConsumerOffsetManager();\n        this.consumerFilterManager = brokerController.getConsumerFilterManager();\n        this.subscriptionGroupManager = brokerController.getSubscriptionGroupManager();\n        this.messageStore = brokerController.getMessageStore();\n        this.popBufferMergeService = brokerController.getPopMessageProcessor().getPopBufferMergeService();\n        this.popInflightMessageCounter = brokerController.getPopInflightMessageCounter();\n    }\n    ...\n}",
    "reason":"domain",
    "justification":"The variables 'brokerConfig', 'topicConfigManager', 'consumerManager', 'offsetManager', 'consumerFilterManager', 'subscriptionGroupManager', 'messageStore', 'popBufferMergeService', and 'popInflightMessageCounter' are all related to the domain of managing consumer lag calculation in the broker. They are used together to calculate various metrics such as consumer lag, inflight messages, and available messages for consumers. Extracting these variables into a separate class would encapsulate the logic related to consumer lag calculation and improve the modularity of the code.",
    "suggestedName":"ConsumerLagManagement"
}"