{
    "refactorings": {
        "/root/data_clump_solver/cloned_projects/rocketmq_refactor/store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java": [
            {
                "fromLine": 137,
                "toLine": 141,
                "oldContent": "\n        this.statsTable.put(CONSUMER_REGISTER_TIME,\n            new StatsItemSet(CONSUMER_REGISTER_TIME, this.scheduledExecutorService, log));\n        this.statsTable.put(PRODUCER_REGISTER_TIME,\n            new StatsItemSet(PRODUCER_REGISTER_TIME, this.scheduledExecutorService, log));",
                "newContent": "\n        this.statsManager.incConsumerRegisterTime(CONSUMER_REGISTER_TIME);\n        this.statsManager.incProducerRegisterTime(PRODUCER_REGISTER_TIME);\n"
            },
            {
                "fromLine": 248,
                "toLine": 375,
                "oldContent": "        this.statsManager.onTopicDeleted(topic);\n    }\n        this.momentStatsItemSetFallTime.delValueByInfixKey(topic, \"@\");\n    }\n\n    public void onGroupDeleted(final String group) {\n        this.statsManager.onGroupDeleted(group);\n    }\n        this.momentStatsItemSetFallTime.delValueBySuffixKey(group, \"@\");\n    }\n\n    public void incQueuePutNums(final String topic, final Integer queueId) {\n        this.statsManager.incQueuePutNums(topic, queueId);\n    }\n    }\n\n    public void incQueuePutNums(final String topic, final Integer queueId, int num, int times) {\n        this.statsManager.incQueuePutNums(topic, queueId, num, times);\n    }\n    }\n\n    public void incQueuePutSize(final String topic, final Integer queueId, final int size) {\n        this.statsManager.incQueuePutSize(topic, queueId, size);\n    }\n    }\n\n    public void incQueueGetNums(final String group, final String topic, final Integer queueId, final int incValue) {\n        this.statsManager.incQueueGetNums(group, topic, queueId, incValue);\n    }\n    }\n\n    public void incQueueGetSize(final String group, final String topic, final Integer queueId, final int incValue) {\n        this.statsManager.incQueueGetSize(group, topic, queueId, incValue);\n    }\n    }\n\n    public void incConsumerRegisterTime(final int incValue) {\n        this.statsTable.get(CONSUMER_REGISTER_TIME).addValue(this.clusterName, incValue, 1);\n    }\n\n    public void incProducerRegisterTime(final int incValue) {\n        this.statsTable.get(PRODUCER_REGISTER_TIME).addValue(this.clusterName, incValue, 1);\n    }\n\n    public void incChannelConnectNum() {\n        this.statsTable.get(CHANNEL_ACTIVITY).addValue(CHANNEL_ACTIVITY_CONNECT, 1, 1);\n    }\n\n    public void incChannelCloseNum() {\n        this.statsTable.get(CHANNEL_ACTIVITY).addValue(CHANNEL_ACTIVITY_CLOSE, 1, 1);\n    }\n\n    public void incChannelExceptionNum() {\n        this.statsTable.get(CHANNEL_ACTIVITY).addValue(CHANNEL_ACTIVITY_EXCEPTION, 1, 1);\n    }\n\n    public void incChannelIdleNum() {\n        this.statsTable.get(CHANNEL_ACTIVITY).addValue(CHANNEL_ACTIVITY_IDLE, 1, 1);\n    }\n\n    public void incTopicPutNums(final String topic) {\n        this.statsManager.incTopicPutNums(topic);\n    }\n\n    public void incTopicPutNums(final String topic, int num, int times) {\n        this.statsManager.incTopicPutNums(topic, num, times);\n    }\n\n    public void incTopicPutSize(final String topic, final int size) {\n        this.statsManager.incTopicPutSize(topic, size);\n    }\n\n    public void incGroupGetNums(final String group, final String topic, final int incValue) {\n        this.statsManager.incGroupGetNums(group, topic, incValue);\n    }\n\n    public void incGroupCkNums(final String group, final String topic, final int incValue) {\n        final String statsKey = buildStatsKey(topic, group);\n        this.statsTable.get(GROUP_CK_NUMS).addValue(statsKey, incValue, 1);\n    }\n\n    public void incGroupAckNums(final String group, final String topic, final int incValue) {\n        final String statsKey = buildStatsKey(topic, group);\n        this.statsTable.get(GROUP_ACK_NUMS).addValue(statsKey, incValue, 1);\n    }\n\n    public String buildStatsKey(String topic, String group) {\n        StringBuilder strBuilder;\n        if (topic != null && group != null) {\n            strBuilder = new StringBuilder(topic.length() + group.length() + 1);\n        } else {\n            strBuilder = new StringBuilder();\n        }\n        strBuilder.append(topic).append(\"@\").append(group);\n        return strBuilder.toString();\n    }\n\n    public String buildStatsKey(String topic, int queueId) {\n        StringBuilder strBuilder;\n        if (topic != null) {\n            strBuilder = new StringBuilder(topic.length() + 5);\n        } else {\n            strBuilder = new StringBuilder();\n        }\n        strBuilder.append(topic).append(\"@\").append(queueId);\n        return strBuilder.toString();\n    }\n\n    public String buildStatsKey(String topic, int queueId, String group) {\n        StringBuilder strBuilder;\n        if (topic != null && group != null) {\n            strBuilder = new StringBuilder(topic.length() + group.length() + 6);\n        } else {\n            strBuilder = new StringBuilder();\n        }\n        strBuilder.append(topic).append(\"@\").append(queueId).append(\"@\").append(group);\n        return strBuilder.toString();\n    }\n\n    public String buildStatsKey(int queueId, String topic, String group) {\n        StringBuilder strBuilder;\n        if (topic != null and group != null) {\n            strBuilder = new StringBuilder(topic.length() + group.length() + 6);\n        } else {\n            strBuilder = new StringBuilder();\n        }\n        strBuilder.append(queueId).append(\"@\").append(topic).append(\"@\").append(group);\n        return strBuilder.toString();",
                "newContent": "        this.statsManager.onTopicDeleted(topic);\n    }\n\n    public void onGroupDeleted(final String group) {\n        this.statsManager.onGroupDeleted(group);\n    }\n\n    public void incQueuePutNums(final String topic, final Integer queueId) {\n        this.statsManager.incQueuePutNums(topic, queueId);\n    }\n\n    public void incQueuePutNums(final String topic, final Integer queueId, int num, int times) {\n        this.statsManager.incQueuePutNums(topic, queueId, num, times);\n    }\n\n    public void incQueuePutSize(final String topic, final Integer queueId, final int size) {\n        this.statsManager.incQueuePutSize(topic, queueId, size);\n    }\n\n    public void incQueueGetNums(final String group, final String topic, final Integer queueId, final int incValue) {\n        this.statsManager.incQueueGetNums(group, topic, queueId, incValue);\n    }\n\n    public void incQueueGetSize(final String group, final String topic, final Integer queueId, final int incValue) {\n        this.statsManager.incQueueGetSize(group, topic, queueId, incValue);\n    }\n\n    public void incConsumerRegisterTime(final int incValue) {\n        this.statsManager.incConsumerRegisterTime(incValue);\n    }\n\n    public void incProducerRegisterTime(final int incValue) {\n        this.statsManager.incProducerRegisterTime(incValue);\n    }\n\n    public void incChannelConnectNum() {\n        this.statsManager.incChannelConnectNum();\n    }\n\n    public void incChannelCloseNum() {\n        this.statsManager.incChannelCloseNum();\n    }\n\n    public void incChannelExceptionNum() {\n        this.statsManager.incChannelExceptionNum();\n    }\n\n    public void incChannelIdleNum() {\n        this.statsManager.incChannelIdleNum();\n    }\n\n    public void incTopicPutNums(final String topic) {\n        this.statsManager.incTopicPutNums(topic);\n    }\n\n    public void incTopicPutNums(final String topic, int num, int times) {\n        this.statsManager.incTopicPutNums(topic, num, times);\n    }\n\n    public void incTopicPutSize(final String topic, final int size) {\n        this.statsManager.incTopicPutSize(topic, size);\n    }\n\n    public void incGroupGetNums(final String group, final String topic, final int incValue) {\n        this.statsManager.incGroupGetNums(group, topic, incValue);\n    }\n\n    public void incGroupCkNums(final String group, final String topic, final int incValue) {\n        this.statsManager.incGroupCkNums(group, topic, incValue);\n    }\n\n    public void incGroupAckNums(final String group, final String topic, final int incValue) {\n        this.statsManager.incGroupAckNums(group, topic, incValue);\n    }\n\n    public String buildStatsKey(String topic, String group) {\n        return this.statsManager.buildStatsKey(topic, group);\n    }\n\n    public String buildStatsKey(String topic, int queueId) {\n        return this.statsManager.buildStatsKey(topic, queueId);\n    }\n\n    public String buildStatsKey(String topic, int queueId, String group) {\n        return this.statsManager.buildStatsKey(topic, queueId, group);\n    }\n\n    public String buildStatsKey(int queueId, String topic, String group) {\n        return this.statsManager.buildStatsKey(queueId, topic, group);\n    }\n"
            }
        ]
    },
    "extractedClasses": {
        "store/src/main/java/org/apache/rocketmq/store/stats/StatsManager.java": "package org.apache.rocketmq.store.stats;\n\nimport org.apache.rocketmq.common.BrokerConfig;\nimport org.apache.rocketmq.logging.Logger;\nimport java.util.concurrent.ScheduledExecutorService;\n\npublic class StatsManager {\n\n    private BrokerConfig brokerConfig;\n    private ScheduledExecutorService scheduledExecutorService;\n    private Logger log;\n\n    public StatsManager(BrokerConfig brokerConfig, ScheduledExecutorService scheduledExecutorService, Logger log) {\n        this.brokerConfig = brokerConfig;\n        this.scheduledExecutorService = scheduledExecutorService;\n        this.log = log;\n    }\n\n    public void onTopicDeleted(final String topic) {\n        // Implementation\n    }\n\n    public void onGroupDeleted(final String group) {\n        // Implementation\n    }\n\n    public void incQueuePutNums(final String topic, final Integer queueId) {\n        // Implementation\n    }\n\n    public void incQueuePutNums(final String topic, final Integer queueId, int num, int times) {\n        // Implementation\n    }\n\n    public void incQueuePutSize(final String topic, final Integer queueId, final int size) {\n        // Implementation\n    }\n\n    public void incQueueGetNums(final String group, final String topic, final Integer queueId, final int incValue) {\n        // Implementation\n    }\n\n    public void incQueueGetSize(final String group, final String topic, final Integer queueId, final int incValue) {\n        // Implementation\n    }\n\n    public void incConsumerRegisterTime(final int incValue) {\n        // Implementation\n    }\n\n    public void incProducerRegisterTime(final int incValue) {\n        // Implementation\n    }\n\n    public void incChannelConnectNum() {\n        // Implementation\n    }\n\n    public void incChannelCloseNum() {\n        // Implementation\n    }\n\n    public void incChannelExceptionNum() {\n        // Implementation\n    }\n\n    public void incChannelIdleNum() {\n        // Implementation\n    }\n\n    public void incTopicPutNums(final String topic) {\n        // Implementation\n    }\n\n    public void incTopicPutNums(final String topic, int num, int times) {\n        // Implementation\n    }\n\n    public void incTopicPutSize(final String topic, final int size) {\n        // Implementation\n    }\n\n    public void incGroupGetNums(final String group, final String topic, final int incValue) {\n        // Implementation\n    }\n\n    public void incGroupCkNums(final String group, final String topic, final int incValue) {\n        // Implementation\n    }\n\n    public void incGroupAckNums(final String group, final String topic, final int incValue) {\n        // Implementation\n    }\n\n    public String buildStatsKey(String topic, String group) {\n        // Implementation\n        return \"\";\n    }\n\n    public String buildStatsKey(String topic, int queueId) {\n        // Implementation\n        return \"\";\n    }\n\n    public String buildStatsKey(String topic, int queueId, String group) {\n        // Implementation\n        return \"\";\n    }\n\n    public String buildStatsKey(int queueId, String topic, String group) {\n        // Implementation\n        return \"\";\n    }\n}\n"
    }
}