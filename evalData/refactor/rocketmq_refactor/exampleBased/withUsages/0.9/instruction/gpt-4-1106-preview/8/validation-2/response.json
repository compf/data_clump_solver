{
    "refactorings": {
        "store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java": [
            {
                "fromLine": 302,
                "toLine": 305,
                "oldContent": "public void incQueuePutNums(final String topic, final Integer queueId) {\r\n        if (enableQueueStat) {\r\n            this.statsTable.get(Stats.QUEUE_PUT_NUMS).addValue(buildStatsKey(topic, queueId), 1, 1);\r\n        }\r\n    }",
                "newContent": "public void incQueuePutNums(final String topic, final Integer queueId) {\r\n        if (enableQueueStat) {\r\n            StatsKey statsKey = new StatsKey(topic, queueId, null);\r\n            this.statsTable.get(Stats.QUEUE_PUT_NUMS).addValue(statsKey.getStatsKey(), 1, 1);\r\n        }\r\n    }"
            },
            {
                "fromLine": 577,
                "toLine": 587,
                "oldContent": "public String buildStatsKey(String topic, String group) {\r\n        StringBuilder strBuilder;\r\n        if (topic != null && group != null) {\r\n            strBuilder = new StringBuilder(topic.length() + group.length() + 1);\r\n        } else {\r\n            strBuilder = new StringBuilder();\r\n        }\r\n        strBuilder.append(topic).append('@').append(group);\r\n        return strBuilder.toString();\r\n    }\r\n\r\n    public String buildStatsKey(String topic, int queueId) {",
                "newContent": ""
            },
            {
                "fromLine": 587,
                "toLine": 591,
                "oldContent": "StringBuilder strBuilder;\r\n        if (topic != null) {\r\n            strBuilder = new StringBuilder(topic.length() + 5);\r\n        } else {\r\n            strBuilder = new StringBuilder();\r\n        }\r\n        strBuilder.append(topic).append('@').append(queueId);\r\n        return strBuilder.toString();\r\n    }",
                "newContent": ""
            },
          {
                "fromLine": 591,
                "toLine": 610,
                "oldContent": "\r\n    public String buildStatsKey(String topic, int queueId, String group) {\r\n        StringBuilder strBuilder;\r\n        if (topic != null && group != null) {\r\n            strBuilder = new StringBuilder(topic.length() + group.length() + 6);\r\n        } else {\r\n            strBuilder = new StringBuilder();\r\n        }\r\n        strBuilder.append(topic).append('@').append(queueId).append('@').append(group);\r\n        return strBuilder.toString();\r\n    }\r\n\r\n    public String buildStatsKey(int queueId, String topic, String group) {\r\n        StringBuilder strBuilder;\r\n        if (topic != null && group != null) {\r\n            strBuilder = new StringBuilder(topic.length() + group.length() + 6);\r\n        } else {\r\n            strBuilder = new StringBuilder();\r\n        }\r\n        strBuilder.append(queueId).append('@').append(topic).append('@').append(group);\r\n        return strBuilder.toString();\r\n    }",
                "newContent": ""
            }
        ]
    },
    "extractedClasses": {
        "store/src/main/java/org/apache/rocketmq/store/stats/StatsKey.java": "package org.apache.rocketmq.store.stats;\r\n\r\npublic class StatsKey {\r\n    private final String topic;\r\n    private final int queueId;\r\n    private final String group;\r\n\r\n    public StatsKey(String topic, int queueId, String group) {\r\n        this.topic = topic;\r\n        this.queueId = queueId;\r\n        this.group = group;\r\n    }\r\n\r\n    public String getStatsKey() {\r\n        StringBuilder strBuilder = new StringBuilder();\r\n        if (topic != null) {\r\n            strBuilder.append(topic).append('@');\r\n        }\r\n        if (queueId > -1) {\r\n            strBuilder.append(queueId);\r\n        }\r\n        if (group != null) {\r\n            if (strBuilder.length() > 0)\r\n                strBuilder.append('@');\r\n            strBuilder.append(group);\r\n        }\r\n        return strBuilder.toString();\r\n    }\r\n}"
    }
}