"{
    "refactorings": {
        "store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java": [
            {
                "fromLine": 44,
                "toLine": 70,
                "oldContent": "@Deprecated public static final String QUEUE_PUT_NUMS = Stats.QUEUE_PUT_NUMS;\n    @Deprecated public static final String QUEUE_PUT_SIZE = Stats.QUEUE_PUT_SIZE;\n    @Deprecated public static final String QUEUE_GET_NUMS = Stats.QUEUE_GET_NUMS;\n    @Deprecated public static final String QUEUE_GET_SIZE = Stats.QUEUE_GET_SIZE;\n    @Deprecated public static final String TOPIC_PUT_NUMS = Stats.TOPIC_PUT_NUMS;\n\n    @Deprecated public static final String GROUP_GET_NUMS = Stats.GROUP_GET_NUMS;\n\n    @Deprecated public static final String SNDBCK_PUT_NUMS = Stats.SNDBCK_PUT_NUMS;\n    @Deprecated public static final String BROKER_PUT_NUMS = Stats.BROKER_PUT_NUMS;\n    @Deprecated public static final String BROKER_GET_NUMS = Stats.BROKER_GET_NUMS;\n    @Deprecated public static final String GROUP_GET_FROM_DISK_NUMS = Stats.GROUP_GET_FROM_DISK_NUMS;\n    @Deprecated public static final String GROUP_GET_FROM_DISK_SIZE = Stats.GROUP_GET_FROM_DISK_SIZE;\n    @Deprecated public static final String BROKER_GET_FROM_DISK_NUMS = Stats.BROKER_GET_FROM_DISK_NUMS;\n\n    // For commercial\n    @Deprecated public static final String COMMERCIAL_SEND_TIMES = Stats.COMMERCIAL_SEND_TIMES;\n    @Deprecated public static final String COMMERCIAL_SNDBCK_TIMES = Stats.COMMERCIAL_SNDBCK_TIMES;\n    @Deprecated public static final String COMMERCIAL_RCV_TIMES = Stats.COMMERCIAL_RCV_TIMES;\n    @Deprecated public static final String COMMERCIAL_RCV_EPOLLS = Stats.COMMERCIAL_RCV_EPOLLS;\n    @Deprecated public static final String COMMERCIAL_SEND_SIZE = Stats.COMMERCIAL_SEND_SIZE;\n    @Deprecated public static final String COMMERCIAL_RCV_SIZE = Stats.COMMERCIAL_RCV_SIZE;\n",
                "newContent": ""
            },
            {
                "fromLine": 172,
                "toLine": 180,
                "oldContent": "if (enableQueueStat) {\n            this.statsTable.put(Stats.QUEUE_PUT_NUMS, new StatsItemSet(Stats.QUEUE_PUT_NUMS, this.scheduledExecutorService, log));\n            this.statsTable.put(Stats.QUEUE_PUT_SIZE, new StatsItemSet(Stats.QUEUE_PUT_SIZE, this.scheduledExecutorService, log));\n            this.statsTable.put(Stats.QUEUE_GET_NUMS, new StatsItemSet(Stats.QUEUE_GET_NUMS, this.scheduledExecutorService, log));\n        }\n        this.statsTable.put(Stats.TOPIC_PUT_NUMS, new StatsItemSet(Stats.TOPIC_PUT_NUMS, this.scheduledExecutorService, log));\n        this.statsTable.put(Stats.TOPIC_PUT_SIZE, new StatsItemSet(Stats.TOPIC_PUT_SIZE, this.scheduledExecutorService, log));\n        this.statsTable.put(Stats.GROUP_GET_NUMS, new StatsItemSet(Stats.GROUP_GET_NUMS, this.scheduledExecutorService, log));",
                "newContent": "if (enableQueueStat) {\n            this.statsTable.put(StatsKey.QUEUE_PUT_NUMS, new StatsItemSet(StatsKey.QUEUE_PUT_NUMS, this.scheduledExecutorService, log));\n            this.statsTable.put(StatsKey.QUEUE_PUT_SIZE, new StatsItemSet(StatsKey.QUEUE_PUT_SIZE, this.scheduledExecutorService, log));\n            this.statsTable.put(StatsKey.QUEUE_GET_NUMS, new StatsItemSet(StatsKey.QUEUE_GET_NUMS, this.scheduledExecutorService, log));\n        }\n        this.statsTable.put(StatsKey.TOPIC_PUT_NUMS, new StatsItemSet(StatsKey.TOPIC_PUT_NUMS, this.scheduledExecutorService, log));\n        this.statsTable.put(StatsKey.TOPIC_PUT_SIZE, new StatsItemSet(StatsKey.TOPIC_PUT_SIZE, this.scheduledExecutorService, log));\n        this.statsTable.put(StatsKey.GROUP_GET_NUMS, new StatsItemSet(StatsKey.GROUP_GET_NUMS, this.scheduledExecutorService, log));"
            },
            {
                "fromLine": 332,
                "toLine": 336,
                "oldContent": "public void onTopicDeleted(final String topic) {\n        this.statsTable.get(Stats.TOPIC_PUT_NUMS).delValue(topic);\n\n        if (enableQueueStat) {\n            this.statsTable.get(Stats.QUEUE_PUT_NUMS).delValueByPrefixKey(topic, \"@\");",
                "newContent": "public void onTopicDeleted(final String topic) {\n        this.statsTable.get(StatsKey.TOPIC_PUT_NUMS).delValue(topic);\n\n        if (enableQueueStat) {\n            this.statsTable.get(StatsKey.QUEUE_PUT_NUMS).delValueByPrefixKey(topic, \"@\");"
            },
            {
                "fromLine": 418,
                "toLine": 426,
                "oldContent": "public void incTopicPutNums(final String topic) {\n}\n\npublic void incTopicPutNums(final String topic, int num, int times) {\n}\n\npublic void incTopicPutSize(final String topic, final int size) {\n}",
                "newContent": "public void incTopicPutNums(final String topic) {\n    this.statsTable.get(StatsKey.TOPIC_PUT_NUMS).getValue().increment();\n}\n\npublic void incTopicPutNums(final String topic, int num, int times) {\n    this.statsTable.get(StatsKey.TOPIC_PUT_NUMS).getValue().add(num); //assuming 'times' is not being used\n}\n\npublic void incTopicPutSize(final String topic, final int size) {\n    this.statsTable.get(StatsKey.TOPIC_PUT_SIZE).getValue().add(size);\n}"
            },
            {
                "fromLine": 515,
                "toLine": 524,
                "oldContent": "public void incBrokerPutNums() {\n}\n\npublic void incBrokerPutNums(final String topic, final int incValue) {\n}\n\npublic void incBrokerGetNums(final String topic, final int incValue) {\n}",
                "newContent": "public void incBrokerPutNums() {\n    this.statsTable.get(StatsKey.BROKER_PUT_NUMS).getValue().increment();\n}\n\npublic void incBrokerPutNums(final String topic, final int incValue) {\n    this.statsTable.get(StatsKey.BROKER_PUT_NUMS).getValue().add(incValue);\n}\n\npublic void incBrokerGetNums(final String topic, final int incValue) {\n    this.statsTable.get(StatsKey.BROKER_GET_NUMS).getValue().add(incValue);\n}"
            }
        ]
    },
    "extractedClasses": {
        "common/src/main/java/org/apache/rocketmq/common/stats/StatsKey.java": "package org.apache.rocketmq.common.stats;\n\npublic class StatsKey {\n    public static final String QUEUE_PUT_NUMS = \"QUEUE_PUT_NUMS\";\n    public static final String QUEUE_PUT_SIZE = \"QUEUE_PUT_SIZE\";\n    public static final String QUEUE_GET_NUMS = \"QUEUE_GET_NUMS\";\n    public static final String QUEUE_GET_SIZE = \"QUEUE_GET_SIZE\";\n    public static final String TOPIC_PUT_NUMS = \"TOPIC_PUT_NUMS\";\n    public static final String TOPIC_PUT_SIZE = \"TOPIC_PUT_SIZE\";\n    public static final String GROUP_GET_NUMS = \"GROUP_GET_NUMS\";\n    public static final String GROUP_GET_SIZE = \"GROUP_GET_SIZE\";\n    public static final String SNDBCK_PUT_NUMS = \"SNDBCK_PUT_NUMS\";\n    public static final String BROKER_PUT_NUMS = \"BROKER_PUT_NUMS\";\n    public static final String BROKER_GET_NUMS = \"BROKER_GET_NUMS\";\n    public static final String GROUP_GET_FROM_DISK_NUMS = \"GROUP_GET_FROM_DISK_NUMS\";\n    public static final String GROUP_GET_FROM_DISK_SIZE = \"GROUP_GET_FROM_DISK_SIZE\";\n    public static final String BROKER_GET_FROM_DISK_NUMS = \"BROKER_GET_FROM_DISK_NUMS\";\n    public static final String BROKER_GET_FROM_DISK_SIZE = \"BROKER_GET_FROM_DISK_SIZE\";\n    public static final String COMMERCIAL_SEND_TIMES = \"COMMERCIAL_SEND_TIMES\";\n    public static final String COMMERCIAL_SNDBCK_TIMES = \"COMMERCIAL_SNDBCK_TIMES\";\n    public static final String COMMERCIAL_RCV_TIMES = \"COMMERCIAL_RCV_TIMES\";\n    public static final String COMMERCIAL_RCV_EPOLLS = \"COMMERCIAL_RCV_EPOLLS\";\n    public static final String COMMERCIAL_SEND_SIZE = \"COMMERCIAL_SEND_SIZE\";\n    public static final String COMMERCIAL_RCV_SIZE = \"COMMERCIAL_RCV_SIZE\";\n\n    private StatsKey() {\n        // Not meant to be instantiated.\n    }\n}"
    }
}"