"{
    "refactorings": {
        "store/src/main/java/org/apache/rocketmq/store/stats/BrokerStatsManager.java": [
            {
                "fromLine": 1,
                "toLine": 1,
                "oldContent": "package org.apache.rocketmq.store.stats;",
                "newContent": "package org.apache.rocketmq.store.stats;\n\nimport org.apache.rocketmq.store.stats.dataclumps.StateGetter;"
            },
            {
                "fromLine": 103,
                "toLine": 103,
                "oldContent": "    private StateGetter producerStateGetter;",
                "newContent": ""
            },
            {
                "fromLine": 104,
                "toLine": 104,
                "oldContent": "    private StateGetter consumerStateGetter;",
                "newContent": ""
            },
            {
                "fromLine": 106,
                "toLine": 106,
                "oldContent": "    private BrokerConfig brokerConfig;",
                "newContent": "    private StateGetter stateGetter;"
            },
            {
                "fromLine": 108,
                "toLine": 108,
                "oldContent": "        this.brokerConfig = brokerConfig;",
                "newContent": "        this.stateGetter = new StateGetter();"
            },
            {
                "fromLine": 109,
                "toLine": 109,
                "oldContent": "        this.enableQueueStat = brokerConfig.isEnableDetailStat();",
                "newContent": "        this.enableQueueStat = brokerConfig.isEnableDetailStat();"
            },
            {
                "fromLine": 113,
                "toLine": 113,
                "oldContent": "        init();",
                "newContent": "        init();"
            },
            {
                "fromLine": 114,
                "toLine": 114,
                "oldContent": "    }",
                "newContent": "    }"
            },
            {
                "fromLine": 115,
                "toLine": 115,
                "oldContent": "",
                "newContent": "    public StateGetter getStateGetter() {"
            },
            {
                "fromLine": 116,
                "toLine": 116,
                "oldContent": "",
                "newContent": "        return stateGetter;"
            },
            {
                "fromLine": 117,
                "toLine": 117,
                "oldContent": "",
                "newContent": "    }"
            },
            {
                "fromLine": 118,
                "toLine": 118,
                "oldContent": "",
                "newContent": "    public void setStateGetter(StateGetter stateGetter) {"
            },
            {
                "fromLine": 119,
                "toLine": 119,
                "oldContent": "",
                "newContent": "        this.stateGetter = stateGetter;"
            },
            {
                "fromLine": 120,
                "toLine": 120,
                "oldContent": "",
                "newContent": "    }"
            },
            {
                "fromLine": 121,
                "toLine": 121,
                "oldContent": "",
                "newContent": ""
            },
            {
                "fromLine": 122,
                "toLine": 122,
                "oldContent": "    public void start() {",
                "newContent": "    public void start() {"
            },
            {
                "fromLine": 123,
                "toLine": 123,
                "oldContent": "    }",
                "newContent": "    }"
            },
            {
                "fromLine": 124,
                "toLine": 124,
                "oldContent": "",
                "newContent": ""
            },
            {
                "fromLine": 125,
                "toLine": 125,
                "oldContent": "    public void shutdown() {",
                "newContent": "    public void shutdown() {"
            },
            {
                "fromLine": 126,
                "toLine": 126,
                "oldContent": "        this.scheduledExecutorService.shutdown();",
                "newContent": "        this.scheduledExecutorService.shutdown();"
            },
            {
                "fromLine": 127,
                "toLine": 127,
                "oldContent": "        this.commercialExecutor.shutdown();",
                "newContent": "        this.commercialExecutor.shutdown();"
            },
            {
                "fromLine": 128,
                "toLine": 128,
                "oldContent": "    }",
                "newContent": "    }"
            },
            {
                "fromLine": 129,
                "toLine": 129,
                "oldContent": "",
                "newContent": ""
            },
            {
                "fromLine": 130,
                "toLine": 130,
                "oldContent": "    public StatsItem getStatsItem(final String statsName, final String statsKey) {",
                "newContent": "    public StatsItem getStatsItem(final String statsName, final String statsKey) {"
            },
            {
                "fromLine": 131,
                "toLine": 131,
                "oldContent": "        try {",
                "newContent": "        try {"
            },
            {
                "fromLine": 132,
                "toLine": 132,
                "oldContent": "            return this.statsTable.get(statsName).getStatsItem(statsKey);",
                "newContent": "            return this.statsTable.get(statsName).getStatsItem(statsKey);"
            },
            {
                "fromLine": 133,
                "toLine": 133,
                "oldContent": "        } catch (Exception e) {",
                "newContent": "        } catch (Exception e) {"
            },
            {
                "fromLine": 134,
                "toLine": 134,
                "oldContent": "        }",
                "newContent": "        }"
            },
            {
                "fromLine": 135,
                "toLine": 135,
                "oldContent": "",
                "newContent": ""
            },
            {
                "fromLine": 136,
                "toLine": 136,
                "oldContent": "        return null;",
                "newContent": "        return null;"
            },
            {
                "fromLine": 137,
                "toLine": 137,
                "oldContent": "    }",
                "newContent": "    }"
            },
            {
                "fromLine": 138,
                "toLine": 138,
                "oldContent": "",
                "newContent": ""
            },
            {
                "fromLine": 139,
                "toLine": 139,
                "oldContent": "    public void onTopicDeleted(final String topic) {",
                "newContent": "    public void onTopicDeleted(final String topic) {"
            },
            {
                "fromLine": 140,
                "toLine": 140,
                "oldContent": "        this.statsTable.get(Stats.TOPIC_PUT_NUMS).delValue(topic);",
                "newContent": "        this.statsTable.get(Stats.TOPIC_PUT_NUMS).delValue(topic);"
            },
            {
                "fromLine": 141,
                "toLine": 141,
                "oldContent": "        this.statsTable.get(Stats.TOPIC_PUT_SIZE).delValue(topic);",
                "newContent": "        this.statsTable.get(Stats.TOPIC_PUT_SIZE).delValue(topic);"
            },
            {
                "fromLine": 142,
                "toLine": 142,
                "oldContent": "        if (enableQueueStat) {",
                "newContent": "        if (enableQueueStat) {"
            },
            {
                "fromLine": 143,
                "toLine": 143,
                "oldContent": "            this.statsTable.get(Stats.QUEUE_PUT_NUMS).delValueByPrefixKey(topic, \"@\");",
                "newContent": "            this.statsTable.get(Stats.QUEUE_PUT_NUMS).delValueByPrefixKey(topic, \"@\");"
            },
            {
                "fromLine": 144,
                "toLine": 144,
                "oldContent": "            this.statsTable.get(Stats.QUEUE_PUT_SIZE).delValueByPrefixKey(topic, \"@\");",
                "newContent": "            this.statsTable.get(Stats.QUEUE_PUT_SIZE).delValueByPrefixKey(topic, \"@\");"
            },
            {
                "fromLine": 145,
                "toLine": 145,
                "oldContent": "        }",
                "newContent": "        }"
            },
            {
                "fromLine": 146,
                "toLine": 146,
                "oldContent": "        this.statsTable.get(Stats.GROUP_GET_NUMS).delValueByPrefixKey(topic, \"@\");",
                "newContent": "        this.statsTable.get(Stats.GROUP_GET_NUMS).delValueByPrefixKey(topic, \"@\");"
            },
            {
                "fromLine": 147,
                "toLine": 147,
                "oldContent": "        this.statsTable.get(Stats.GROUP_GET_SIZE).delValueByPrefixKey(topic, \"@\");",
                "newContent": "        this.statsTable.get(Stats.GROUP_GET_SIZE).delValueByPrefixKey(topic, \"@\");"
            },
            {
                "fromLine": 148,
                "toLine": 148,
                "oldContent": "        this.statsTable.get(Stats.QUEUE_GET_NUMS).delValueByPrefixKey(topic, \"@\");",
                "newContent": "        this.statsTable.get(Stats.QUEUE_GET_NUMS).delValueByPrefixKey(topic, \"@\");"
            },
            {
                "fromLine": 149,
                "toLine": 149,
                "oldContent": "        this.statsTable.get(Stats.QUEUE_GET_SIZE).delValueByPrefixKey(topic, \"@\");",
                "newContent": "        this.statsTable.get(Stats.QUEUE_GET_SIZE).delValueByPrefixKey(topic, \"@\");"
            },
            {
                "fromLine": 150,
                "toLine": 150,
                "oldContent": "        this.statsTable.get(Stats.SNDBCK_PUT_NUMS).delValueByPrefixKey(topic, \"@\");",
                "newContent": "        this.statsTable.get(Stats.SNDBCK_PUT_NUMS).delValueByPrefixKey(topic, \"@\");"
            },
            {
                "fromLine": 151,
                "toLine": 151,
                "oldContent": "        this.statsTable.get(Stats.GROUP_GET_LATENCY).delValueByInfixKey(topic, \"@\");",
                "newContent": "        this.statsTable.get(Stats.GROUP_GET_LATENCY).delValueByInfixKey(topic, \"@\");"
            },
            {
                "fromLine": 152,
                "toLine": 152,
                "oldContent": "        this.momentStatsItemSetFallSize.delValueByInfixKey(topic, \"@\");",
                "newContent": "        this.momentStatsItemSetFallSize.delValueByInfixKey(topic, \"@\");"
            },
            {
                "fromLine": 153,
                "toLine": 153,
                "oldContent": "        this.momentStatsItemSetFallTime.delValueByInfixKey(topic, \"@\");",
                "newContent": "        this.momentStatsItemSetFallTime.delValueByInfixKey(topic, \"@\");"
            },
            {
                "fromLine": 154,
                "toLine": 154,
                "oldContent": "    }",
                "newContent": "    }"
            },
            {
                "fromLine": 155,
                "toLine": 155,
                "oldContent": "",
                "newContent": ""
            },
            {
                "fromLine": 156,
                "toLine": 156,
                "oldContent": "    public void onGroupDeleted(final String group) {",
                "newContent": "    public void onGroupDeleted(final String group) {"
            },
            {
                "fromLine": 157,
                "toLine": 157,
                "oldContent": "        this.statsTable.get(Stats.GROUP_GET_NUMS).delValueBySuffixKey(group, \"@\");",
                "newContent": "        this.statsTable.get(Stats.GROUP_GET_NUMS).delValueBySuffixKey(group, \"@\");"
            },
            {
                "fromLine": 158,
                "toLine": 158,
                "oldContent": "        this.statsTable.get(Stats.GROUP_GET_SIZE).delValueBySuffixKey(group, \"@\");",
                "newContent": "        this.statsTable.get(Stats.GROUP_GET_SIZE).delValueBySuffixKey(group, \"@\");"
            },
            {
                "fromLine": 159,
                "toLine": 159,
                "oldContent": "        if (enableQueueStat) {",
                "newContent": "        if (enableQueueStat) {"
            },
            {
                "fromLine": 160,
                "toLine": 160,
                "oldContent": "            this.statsTable.get(Stats.QUEUE_GET_NUMS).delValueBySuffixKey(group, \"@\");",
                "newContent": "            this.statsTable.get(Stats.QUEUE_GET_NUMS).delValueBySuffixKey(group, \"@\");"
            },
            {
                "fromLine": 161,
                "toLine": 161,
                "oldContent": "            this.statsTable.get(Stats.QUEUE_GET_SIZE).delValueBySuffixKey(group, \"@\");",
                "newContent": "            this.statsTable.get(Stats.QUEUE_GET_SIZE).delValueBySuffixKey(group, \"@\");"
            },
            {
                "fromLine": 162,
                "toLine": 162,
                "oldContent": "        }",
                "newContent": "        }"
            },
            {
                "fromLine": 163,
                "toLine": 163,
                "oldContent": "        this.statsTable.get(Stats.SNDBCK_PUT_NUMS).delValueBySuffixKey(group, \"@\");",
                "newContent": "        this.statsTable.get(Stats.SNDBCK_PUT_NUMS).delValueBySuffixKey(group, \"@\");"
            },
            {
                "fromLine": 164,
                "toLine": 164,
                "oldContent": "        this.statsTable.get(Stats.GROUP_GET_LATENCY).delValueBySuffixKey(group, \"@\");",
                "newContent": "        this.statsTable.get(Stats.GROUP_GET_LATENCY).delValueBySuffixKey(group, \"@\");"
            },
            {
                "fromLine": 165,
                "toLine": 165,
                "oldContent": "        this.momentStatsItemSetFallSize.delValueBySuffixKey(group, \"@\");",
                "newContent": "        this.momentStatsItemSetFallSize.delValueBySuffixKey(group, \"@\");"
            },
            {
                "fromLine": 166,
                "toLine": 166,
                "oldContent": "        this.momentStatsItemSetFallTime.delValueBySuffixKey(group, \"@\");",
                "newContent": "        this.momentStatsItemSetFallTime.delValueBySuffixKey(group, \"@\");"
            },
            {
                "fromLine": 167,
                "toLine": 167,
                "oldContent": "    }",
                "newContent": "    }"
            },
            {
                "fromLine": 168,
                "toLine": 168,
                "oldContent": "",
                "newContent": ""
            },
            {
                "fromLine": 169,
                "toLine": 169,
                "oldContent": "    public void incQueuePutNums(final String topic, final Integer queueId) {",
                "newContent": "    public void incQueuePutNums(final String topic, final Integer queueId) {"
            },
            {
                "fromLine": 170,
                "toLine": 170,
                "oldContent": "        if (enableQueueStat) {",
                "newContent": "        if (enableQueueStat) {"
            },
            {
                "fromLine": 171,
                "toLine": 171,
                "oldContent": "            this.statsTable.get(Stats.QUEUE_PUT_NUMS).addValue(buildStatsKey(topic, queueId), 1, 1);",
                "newContent": "            this.statsTable.get(Stats.QUEUE_PUT_NUMS).addValue(buildStatsKey(topic, queueId), 1, 1);"
            },
            {
                "fromLine": 172,
                "toLine": 172,
                "oldContent": "        }",
                "newContent": "        }"
            },
            {
                "fromLine": 173,
                "toLine": 173,
                "oldContent": "    }",
                "newContent": "    }"
            },
            {
                "fromLine": 174,
                "toLine": 174,
                "oldContent": "",
                "newContent": ""
            },
            {
                "fromLine": 175,
                "toLine": 175,
                "oldContent": "    public void incQueuePutNums(final String topic, final Integer queueId, int num, int times) {",
                "newContent": "    public void incQueuePutNums(final String topic, final Integer queueId, int num, int times) {"
            },
            {
                "fromLine": 176,
                "toLine": 176,
                "oldContent": "        if (enableQueueStat) {",
                "newContent": "        if (enableQueueStat) {"
            },
            {
                "fromLine": 177,
                "toLine": 177,
                "oldContent": "            this.statsTable.get(Stats.QUEUE_PUT_NUMS).addValue(buildStatsKey(topic, queueId), num, times);",
                "newContent": "            this.statsTable.get(Stats.QUEUE_PUT_NUMS).addValue(buildStatsKey(topic, queueId), num, times);"
            },
            {
                "fromLine": 178,
                "toLine": 178,
                "oldContent": "        }",
                "newContent": "        }"
            },
            {
                "fromLine": 179,
                "toLine": 179,
                "oldContent": "    }",
                "newContent": "    }"
            },
            {
                "fromLine": 180,
                "toLine": 180,
                "oldContent": "",
                "newContent": ""
            },
            {
                "fromLine": 181,
                "toLine": 181,
                "oldContent": "    public void incQueuePutSize(final String topic, final Integer queueId, final int size) {",
                "newContent": "    public void incQueuePutSize(final String topic, final Integer queueId
{
                "fromLine": 182,
                "toLine": 182,
                "oldContent": "        if (enableQueueStat) {",
                "newContent": "        if (enableQueueStat) {"
            }
       			"