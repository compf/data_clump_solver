{
    "refactorings": {
        "/root/data_clump_solver/cloned_projects/rocketmq_refactor/store/src/test/java/org/apache/rocketmq/store/queue/QueueTestBase.java": [
            {
                "fromLine": 84,
                "toLine": 125,
                "oldContent": "        // Updated constructor call to match the refactored BrokerStatsManager class.\n            return new DefaultMessageStore(\n            messageStoreConfig,\n            new BrokerStatsManager(),\n            (topic, queueId, logicOffset, tagsCode, msgStoreTime, filterBitMap, properties) -> {\n            },\n            new BrokerConfig(), topicConfigTable);\n    }\n    \n        MessageExtBrokerInner msg = new MessageExtBrokerInner();\n        MessageExtBrokerInner msg = a new MessageExtBrokerInner();\n        msg.setTopic(topic);\n        msg.setTags(\"TAG1\");\n        msg.setKeys(\"Hello\");\n        msg.setBody(new byte[1024]);\n        msg.setKeys(String.valueOf(System.currentTimeMillis()));\n        msg.setQueueId(0);\n        msg.setSysFlag(0);\n        msg.setBornTimestamp(System.currentTimeMillis());\n        msg.setStoreHost(storeHost);\n        msg.setBornHost(storeHost);\n        MessageAccessor.putProperty(msg, MessageConst.PROPERTY_INNER_NUM, String.valueOf(batchNum));\n        msg.setPropertiesString(MessageDecoder.messageProperties2String(msg.getProperties()));\n        if (batchNum > 1) {\n            msg.setSysFlag(MessageSysFlag.INNER_BATCH_FLAG);\n        }\n        if (batchNum == -1) {\n            MessageAccessor.clearProperty(msg, MessageConst.PROPERTY_INNER_NUM);\n        }\n        return msg;\n    }\n}\n",
                "newContent": "        // Updated constructor call to match the refactored BrokerStatsManager class.\n        return new DefaultMessageStore(\n            messageStoreConfig,\n            new BrokerStatsManager(),\n            (topic, queueId, logicOffset, tagsCode, msgStoreTime, filterBitMap, properties) -> {\n            },\n            new BrokerConfig(), topicConfigTable);\n    }\n\n    public MessageExtBrokerInner buildMessage(String topic, int batchNum) {\n        MessageExtBrokerInner msg = new MessageExtBrokerInner();\n        msg.setTopic(topic);\n        msg.setTags(\"TAG1\");\n        msg.setKeys(\"Hello\");\n        msg.setBody(new byte[1024]);\n        msg.setKeys(String.valueOf(System.currentTimeMillis()));\n        msg.setQueueId(0);\n        msg.setSysFlag(0);\n        msg.setBornTimestamp(System.currentTimeMillis());\n        msg.setStoreHost(storeHost);\n        msg.setBornHost(storeHost);\n        MessageAccessor.putProperty(msg, MessageConst.PROPERTY_INNER_NUM, String.valueOf(batchNum));\n        msg.setPropertiesString(MessageDecoder.messageProperties2String(msg.getProperties()));\n        if (batchNum > 1) {\n            msg.setSysFlag(MessageSysFlag.INNER_BATCH_FLAG);\n        }\n        if (batchNum == -1) {\n            MessageAccessor.clearProperty(msg, MessageConst.PROPERTY_INNER_NUM);\n        }\n        return msg;\n    }\n}\n"
            }
        ]
    },
    "extractedClasses": {}
}