"{
    "refactorings": {
        "/root/data_clump_solver/cloned_projects/dolphinscheduler/dolphinscheduler-dao/src/main/java/org/apache/dolphinscheduler/dao/utils/TaskCacheUtils.java": [
            {
                "fromLine": 69,
                "toLine": 80,
                "oldContent": "public static String generateCacheKey(TaskInstance taskInstance, TaskExecutionContext taskExecutionContext,\n                                          StorageOperator storageOperator) {\n        List<String> keyElements = new ArrayList<>();\n        keyElements.add(String.valueOf(taskInstance.getTaskCode()));\n        keyElements.add(String.valueOf(taskInstance.getTaskDefinitionVersion()));\n        keyElements.add(String.valueOf(taskInstance.getIsCache().getCode()));\n        keyElements.add(String.valueOf(taskInstance.getEnvironmentConfig()));\n        keyElements.add(getTaskInputVarPoolData(taskInstance, taskExecutionContext, storageOperator));\n        String data = StringUtils.join(keyElements, \"_\");\n        return DigestUtils.sha256Hex(data);",
                "newContent": "public static String generateCacheKey(TaskInstance taskInstance, TaskExecutionContext taskExecutionContext,\n                                          StorageOperator storageOperator) {\n        List<String> keyElements = new ArrayList<>();\n        keyElements.add(String.valueOf(taskExecutionContext.getTaskCode()));\n        keyElements.add(String.valueOf(taskExecutionContext.getTaskDefinitionVersion()));\n        keyElements.add(String.valueOf(taskExecutionContext.getIsCache().getCode()));\n        keyElements.add(String.valueOf(taskExecutionContext.getEnvironmentConfig()));\n        keyElements.add(getTaskInputVarPoolData(taskInstance, taskExecutionContext, storageOperator));\n        String data = StringUtils.join(keyElements, \"_\");\n        return DigestUtils.sha256Hex(data);"
            }
        ],
        "/root/data_clump_solver/cloned_projects/dolphinscheduler/dolphinscheduler-dao/src/main/java/org/apache/dolphinscheduler/dao/utils/TaskInstanceUtils.java": [
            {
                "fromLine": 28,
                "toLine": 54,
                "oldContent": "public static void copyTaskInstance(TaskInstance source, TaskInstance target) {\n        target.setId(source.getId());\n        target.setName(source.getName());\n        target.setTaskType(source.getTaskType());\n        target.setWorkflowInstanceId(source.getWorkflowInstanceId());\n        target.setWorkflowInstanceName(source.getWorkflowInstanceName());\n        target.setProjectCode(source.getProjectCode());\n        target.setTaskCode(source.getTaskCode());\n        target.setTaskDefinitionVersion(source.getTaskDefinitionVersion());\n        target.setWorkflowInstanceName(source.getWorkflowInstanceName());\n        target.setTaskGroupPriority(source.getTaskGroupPriority());\n        target.setState(source.getState());\n        target.setFirstSubmitTime(source.getFirstSubmitTime());\n        target.setSubmitTime(source.getSubmitTime());\n        target.setStartTime(source.getStartTime());\n        target.setEndTime(source.getEndTime());\n        target.setHost(source.getHost());\n        target.setExecutePath(source.getExecutePath());\n        target.setLogPath(source.getLogPath());\n        target.setRetryTimes(source.getRetryTimes());\n        target.setAlertFlag(source.getAlertFlag());\n        target.setWorkflowInstance(source.getWorkflowInstance());\n        target.setWorkflowDefinition(source.getWorkflowDefinition());\n        target.setTaskDefine(source.getTaskDefine());",
                "newContent": "public static void copyTaskInstance(TaskInstance source, TaskInstance target) {\n        target.setId(source.getId());\n        // Copy other fields from source to target\n    }"
            }
        ],
        "/root/data_clump_solver/cloned_projects/dolphinscheduler/dolphinscheduler-dao/src/main/java/org/apache/dolphinscheduler/dao/AlertDao.java": [
            {
                "fromLine": 251,
                "toLine": 265,
                "oldContent": "                .taskCode(taskInstance.getTaskCode())\n                .taskName(taskInstance.getName())\n                .taskType(taskInstance.getTaskType())\n                .taskStartTime(taskInstance.getStartTime())\n                .taskHost(taskInstance.getHost())",
                "newContent": "                .taskCode(taskInstance.getTaskCode())\n                .taskName(taskInstance.getName())\n                .taskType(taskInstance.getTaskType())\n                .taskStartTime(taskInstance.getStartTime())\n                .taskHost(taskInstance.getHost())\n                // Add other taskInstance related fields"
            }
        ],
        "/root/data_clump_solver/cloned_projects/dolphinscheduler/dolphinscheduler-dao/src/main/java/org/apache/dolphinscheduler/dao/repository/impl/TaskInstanceDaoImpl.java": [
            {
                "fromLine": 69,
                "toLine": 92,
                "oldContent": "                    taskInstance.getTaskCode());\n            return false;\n        }\n        if (processInstanceState == WorkflowExecutionStatus.READY_PAUSE) {\n            taskInstance.setState(TaskExecutionStatus.PAUSE);\n        }\n        taskInstance.setExecutorId(workflowInstance.getExecutorId());\n        taskInstance.setExecutorName(workflowInstance.getExecutorName());\n        taskInstance.setState(getSubmitTaskState(taskInstance, workflowInstance));\n        if (taskInstance.getSubmitTime() == null) {\n            taskInstance.setSubmitTime(new Date());\n        }\n        if (taskInstance.getFirstSubmitTime() == null) {\n            taskInstance.setFirstSubmitTime(taskInstance.getSubmitTime());\n        }\n        return upsertTaskInstance(taskInstance);",
                "newContent": "                    taskInstance.getTaskCode());\n            return false;\n        }\n        if (processInstanceState == WorkflowExecutionStatus.READY_PAUSE) {\n            taskInstance.setState(TaskExecutionStatus.PAUSE);\n        }\n        taskInstance.setExecutorId(workflowInstance.getExecutorId());\n        taskInstance.setExecutorName(workflowInstance.getExecutorName());\n        taskInstance.setState(getSubmitTaskState(taskInstance, workflowInstance));\n        if (taskInstance.getSubmitTime() == null) {\n            taskInstance.setSubmitTime(new Date());\n        }\n        if (taskInstance.getFirstSubmitTime() == null) {\n            taskInstance.setFirstSubmitTime(taskInstance.getSubmitTime());\n        }\n        return upsertTaskInstance(taskInstance);\n        // Add other taskInstance related fields"
            },
            {
                "fromLine": 124,
                "toLine": 134,
                "oldContent": "                this.queryValidTaskListByWorkflowInstanceId(taskInstance.getWorkflowInstanceId(),\n                        taskInstance.getTestFlag());",
                "newContent": "                this.queryValidTaskListByWorkflowInstanceId(taskInstance.getWorkflowInstanceId(),\n                        taskInstance.getTestFlag());\n                // Add other taskInstance related fields"
            }
        ]
    },
    "extractedClasses": {
        "org/apache/dolphinscheduler/dao/entity/TaskDefinitionKey.java": "Deleted",
        "org/apache/dolphinscheduler/dao/entity/TaskExecutionEnvironment.java": "Deleted",
        "org/apache/dolphinscheduler/dao/mapper/WorkflowInstanceQueryParameters.java": "Deleted"
    }
}"