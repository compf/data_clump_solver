[
  {
    "messages": [
      [
        "",
        "I will provide you one or more Java code files.",
        "Find all data clumps in the respective files.",
        "",
        " Examples of data clump are provided below.",
        "Use the following JSON format for the output:",
        "## JSON",
        "{",
        "   \"data_clumps\":{",
        "        \"unique_key\":{",
        "            \"key\": \"a unique key that should be created. It must be same as the key 'unique_key' in the 'data_clumps' object\",",
        "            \"from_file_path\":\"The path of the file where one part of the data clump is found\",",
        "            \"from_class_or_interface_key\":\"The fully qualified name of the class or interface where one part of the data clump is found\",",
        "            \"from_class_or_interface_name\":\"The name of the class or interface where one part of the data clump is found\",",
        "            ",
        "            \"from_method_key\":\"The fully qualified name of the method where one part of the data clump is found. It may be 'null' if the data clump on this part is not found in a method\",",
        "            \"from_method_name\":\"The name of the method where one part of the data clump is found. It may be 'null' if the data clump on this part is not found in a method\",",
        "",
        "            \"to_file_path\":\"The path of the file where the  other part of the data clump is found\",",
        "            \"to_class_or_interface_key\":\"The fully qualified name of the class or interface where the  other part part of the data clump is found\",",
        "            \"to_class_or_interface_name\":\"The name of the class or interface where the  other  part of the data clump is found\",",
        "            ",
        "            \"to_method_key\":\"The fully qualified name of the method where the  other part part of the data clump is found. It may be 'null' if the data clump on this part is not found in a method\",",
        "            \"to_method_name\":\"The name of the method where the  other  part of the data clump is found. It may be 'null' if the data clump on this part is not found in a method\",",
        "            \"data_clump_data\":{",
        "                // for each data clump variable",
        "                \"other_unique_key\":{",
        "                    \"key\":\"a unique key that should be created. It must be same as the key 'other_unique_key' in the 'data_clump_data' object\",",
        "                    \"name\": \"The name of the data clump variable that exists on the one part of the data clump\",",
        "                    \"type\": \"The type of the data clump variable that exists on the one part of the data clump\",",
        "                    \"displayedType\": \"The  type of the data clump variable, as it appears in the source code, that exists on the one part of the data clump\",",
        "                    ",
        "                    \"position\": {",
        "                        \"startLine\": \"The line number of the  data clump variable on the one part of the data clump.This must be relative to the file\",",
        "                        \"startColumn\": \"The column number of the data clump variable on the one part of the data clump\"",
        "                    },",
        "                    \"to_variable\":{",
        "                        \"key\":\"a unique key that should be created.\",",
        "                        \"name\": \"The name of the data clump variable that exists on the other part of the data clump\",",
        "                        \"type\": \"The type of the data clump variable, as it appears in the source code, that exists on the other part of the data clump\",",
        "                        \"position\": {",
        "                            \"startLine\": \"The line number of the  data clump variable on the other part of the data clump. This must be relative to the file\",",
        "                            \"startColumn\": \"The column number of the data clump variable on the other part of the data clump\",",
        "                        }",
        "                    }",
        "                }",
        "            }",
        "        }",
        "   }",
        "}",
        "",
        "## Examples",
        "import java.util.Arrays;",
        "import java.util.Date;",
        "import java.time.LocalDateTime;",
        "//#### example 1 ##################################",
        "// 'Parameters to parameters' data clump",
        "class Example1A {",
        "",
        "    //Both methods have the same parameters, so we can extract them into a class",
        "    void processUserData(int userID, String username, String email) {",
        "        System.out.println(\"Processing user data: ID-\" + userID + \", Username-\" + username + \", Email-\" + email);",
        "    }",
        "",
        "    void performUserAction(int userID, String username, String email) {",
        "        System.out.println(\"Performing user action: ID-\" + userID + \", Username-\" + username + \", Email-\" + email);",
        "    }",
        "}",
        "",
        "",
        "//refactored######################################",
        "class UserData{",
        "    int userID;",
        "    String username;",
        "    String email;",
        "    UserData(int userID, String username, String email){",
        "        this.userID = userID;",
        "        this.username = username;",
        "        this.email = email;",
        "    }",
        "    public int getUserID() {",
        "        return userID;",
        "    }",
        "    public String getUsername() {",
        "        return username;",
        "    }",
        "    public String getEmail() {",
        "        return email;",
        "    }",
        "",
        "    public void setUserID(int userID) {",
        "        this.userID = userID;",
        "    }",
        "    public void setUsername(String username) {",
        "        this.username = username;",
        "    }",
        "    public void setEmail(String email) {",
        "        this.email = email;",
        "    }",
        "    ",
        "}",
        "class Example1A {",
        "    void processUserData(UserData userData) {",
        "        System.out.println(\"Processing user data: ID-\" + userData.getUserId() + \", Username-\" + userData.getUsername() + \", Email-\" + userData.getEmail());",
        "    }",
        "",
        "    void performUserAction(UserData userData) {",
        "        System.out.println(\"Performing user action: ID-\" + userData.getUserId() + \", Username-\" + userData.getUsername() + \", Email-\" + userData.getEmail());",
        "    }",
        "}",
        "",
        "",
        "",
        "//#### example 1 end ##################################",
        "",
        "//#### example 2 ##################################",
        "//// 'Parameters to parameters' data clump",
        "// Example2A.java",
        "class Example2A {",
        "    //The methods in both classes have the same parameters, so we can extract them into a class",
        "    void processProductData(int productID, String name, String description) {",
        "        System.out.println(\"Processing product data: ID-\" + productID + \", Name-\" + name + \", Description-\" + description);",
        "    }",
        "",
        "   ",
        "}",
        "class Example2B {",
        "    void showProductInfo(int productID, String name, String description) {",
        "        System.out.println(\"Showing product info: ID-\" + productID + \", Name-\" + name + \", Description-\" + description);",
        "    }",
        "}",
        "//### refactored ##################################",
        "class ProductInfo{",
        "    int productID;",
        "    String name;",
        "    String description;",
        "    ProductInfo(int productID, String name, String description){",
        "        this.productID = productID;",
        "        this.name = name;",
        "        this.description = description;",
        "    }",
        "    public int getProductID() {",
        "        return productID;",
        "    }",
        "    public String getName() {",
        "        return name;",
        "    }",
        "    public String getDescription() {",
        "        return description;",
        "    }",
        "",
        "    public void setProductID(int productID) {",
        "        this.productID = productID;",
        "    }",
        "    public void setName(String name) {",
        "        this.name = name;",
        "    }",
        "    public void setDescription(String description) {",
        "        this.description = description;",
        "    }    ",
        "}",
        "class Example2A {",
        "    void processProductData(ProductInfo productInfo) {",
        "        System.out.println(\"Processing product data: ID-\" + productInfo.getProductID() + \", Name-\" + productInfo.getName() + \", Description-\" + productInfo.getDescription());",
        "    }",
        "",
        "    void displayProductInfo(int productID, String name, String description) {",
        "        System.out.println(\"Displaying product info: ID-\" + productInfo.getProductID() + \", Name-\" + productInfo.getName() + \", Description-\" + productInfo.getDescription());",
        "    }",
        "}",
        "class Example2B {",
        "    void showProductInfo(ProductInfo productInfo) {",
        "        System.out.println(\"Showing product info: ID-\" + productInfo.getProductID() + \", Name-\" + productInfo.getName() + \", Description-\" + productInfo.getDescription());",
        "    }",
        "}",
        "//#### example 2 end ##################################",
        "",
        "//#### example 3 ##################################",
        "//'fields to fields' data clump",
        "class Example3A {",
        "    // both classes have the same fields, so we can extract them into a class",
        "    private int orderId;",
        "    private int customerId;",
        "    private int[] productIds;",
        "    void processOrderData() {",
        "        System.out.println(\"Processing order data: OrderID-\" + orderID + \", CustomerID-\" + customerID + \", ProductIDs-\" + Arrays.toString(productIDs));",
        "    }",
        "    Example3A(int orderID, int customerID, int[] productIDs){",
        "        this.orderID = orderID;",
        "        this.customerID = customerID;",
        "        this.productIDs = productIDs;",
        "    }",
        "",
        " ",
        "}",
        "",
        "// Example3B.java",
        "class Example3B {",
        "    private int orderId;",
        "    private int customerId;",
        "    private int[] productIds;",
        "    void displayOrderSummary() {",
        "        System.out.println(\"Displaying order summary: OrderID-\" + orderID + \", CustomerID-\" + customerID + \", ProductIDs-\" + Arrays.toString(productIDs));",
        "    }",
        "    Example3B(int orderID, int customerID, int[] productIDs){",
        "        this.orderID = orderID;",
        "        this.customerID = customerID;",
        "        this.productIDs = productIDs;",
        "    }",
        "}",
        "//### refactored ##################################",
        "class OrderDetails{",
        "    int orderID;",
        "    int customerID;",
        "    int[] productIDs;",
        "    OrderDetails(int orderID, int customerID, int[] productIDs){",
        "        this.orderID = orderID;",
        "        this.customerID = customerID;",
        "        this.productIDs = productIDs;",
        "    }",
        "    public int getOrderID() {",
        "        return orderID;",
        "    }",
        "    public int getCustomerID() {",
        "        return customerID;",
        "    }",
        "    public int[] getProductIDs() {",
        "        return productIDs;",
        "    }",
        "",
        "    public void setOrderID(int orderID) {",
        "        this.orderID = orderID;",
        "    }",
        "    public void setCustomerID(int customerID) {",
        "        this.customerID = customerID;",
        "    }",
        "    public void setProductIDs(int[] productIDs) {",
        "        this.productIDs = productIDs;",
        "    }    ",
        "}",
        "class Example3A {",
        "    private OrderDetails orderDetails;",
        "    void processOrderData() {",
        "        System.out.println(\"Processing order data: OrderID-\" + orderDetails.getOrderID() + \", CustomerID-\" + orderDetails.getCustomerId() + \", ProductIDs-\" + Arrays.toString(orderDetails.getProductIDs()));",
        "    }",
        "    Example3A(int orderID, int customerID, int[] productIDs){",
        "        this.orderDetails = new OrderDetails(orderID, customerID, productIDs);",
        "    }",
        "",
        " ",
        "}",
        "",
        "// Example3B.java",
        "class Example3B {",
        "    private OrderDetails orderDetails;",
        "    void displayOrderSummary() {",
        "        System.out.println(\"Displaying order summary: OrderID-\" + orderDetails.getOrderID() + \", CustomerID-\" + orderDetails.getCustomerId() + \", ProductIDs-\" + Arrays.toString(orderDetails.getProductIDs()));",
        "    }",
        "    Example3B(int orderID, int customerID, int[] productIDs){",
        "        this.orderDetails = new OrderDetails(orderID, customerID, productIDs);",
        "    }",
        "}",
        "//#### example 3 end ##################################",
        "",
        "",
        "//#### example 4 ##################################",
        "// 'method parameters to fields' data clump",
        "class Example4A {",
        "    private int employeeID;",
        "    private String firstName;",
        "    private String lastName;",
        "    void processEmployeeData() {",
        "        System.out.println(\"Processing employee data: ID-\" + employeeID + \", First Name-\" + firstName + \", Last Name-\" + lastName);",
        "    }",
        "}",
        "",
        "// Example4B.java",
        "class Example4B {",
        "    void showEmployeeInfo(int employeeID, String firstName, String lastName) {",
        "        //this method has the same parameters as the fields in Example4A, so we can extract them into a class",
        "        System.out.println(\"Showing employee info: ID-\" + employeeID + \", First Name-\" + firstName + \", Last Name-\" + lastName);",
        "    }",
        "}",
        "//### refactored ##################################",
        "class EmployeeRecord{",
        "    int employeeID;",
        "    String firstName;",
        "    String lastName;",
        "    EmployeeRecord(int employeeID, String firstName, String lastName){",
        "        this.employeeID = employeeID;",
        "        this.firstName = firstName;",
        "        this.lastName = lastName;",
        "    }",
        "    public int getEmployeeID() {",
        "        return employeeID;",
        "    }",
        "    public String getFirstName() {",
        "        return firstName;",
        "    }",
        "    public String getLastName() {",
        "        return lastName;",
        "    }",
        "",
        "    public void setEmployeeID(int employeeID) {",
        "        this.employeeID = employeeID;",
        "    }",
        "    public void setFirstName(String firstName) {",
        "        this.firstName = firstName;",
        "    }",
        "    public void setLastName(String lastName) {",
        "        this.lastName = lastName;",
        "    } ",
        "       ",
        "}",
        "class Example4A {",
        "    private EmployeeRecord employeeRecord;",
        "    void processEmployeeData() {",
        "        System.out.println(\"Processing employee data: ID-\" + employeeRecord.getEmployeeID() + \", First Name-\" + employeeRecord.getFirstName() + \", Last Name-\" + employeeRecord.getLastName());",
        "    }",
        "",
        "}",
        "class Example4B {",
        "    void showEmployeeInfo(EmployeeRecord employeeRecord) {",
        "        System.out.println(\"Showing employee info: ID-\" + employeeRecord.getEmployeeID() + \", First Name-\" + employeeRecord.getFirstName() + \", Last Name-\" + employeeRecord.getLastName());",
        "    }",
        "}",
        "//#### example 4 end ##################################",
        "",
        "",
        "// ### example 5#########################",
        "//'method parameters to method parameters' data clump",
        "class Example5A {",
        "",
        "    // both methods share at least 3 parameters, so we can extract those 3 parameters into a class",
        "    void processCustomerData(int customerID, String firstName, String lastName,int offset) {",
        "        System.out.println(\"Processing customer data: ID-\" + customerID+offset + \", First Name-\" + firstName + \", Last Name-\" + lastName);",
        "    }",
        "",
        "    void sendCustomerNotification(int customerID, String firstName, String lastName,double factor) {",
        "        System.out.println(\"Sending customer notification: ID-\" + customerID*factor + \", First Name-\" + firstName + \", Last Name-\" + lastName);",
        "    }",
        "}",
        "",
        "//## refactored ##################################",
        "class CustomerData{",
        "    int customerID;",
        "    String firstName;",
        "    String lastName;",
        "    CustomerData(int customerID, String firstName, String lastName){",
        "        this.customerID = customerID;",
        "        this.firstName = firstName;",
        "        this.lastName = lastName;",
        "    }",
        "    public int getCustomerID() {",
        "        return customerID;",
        "    }",
        "    public String getFirstName() {",
        "        return firstName;",
        "    }",
        "    public String getLastName() {",
        "        return lastName;",
        "    }",
        "",
        "    public void setCustomerID(int customerID) {",
        "        this.customerID = customerID;",
        "    }",
        "    public void setFirstName(String firstName) {",
        "        this.firstName = firstName;",
        "    }",
        "    public void setLastName(String lastName) {",
        "        this.lastName = lastName;",
        "    } ",
        "       ",
        "}",
        "class Example5A {",
        "    void processCustomerData(CustomerData customerData, int offset) {",
        "        System.out.println(\"Processing customer data: ID-\" + customerData.getCustomerID()+offset + \", First Name-\" + customerData.getFirstName() + \", Last Name-\" + customerData.getLastName());",
        "    }",
        "",
        "    void sendCustomerNotification(CustomerData customerData, double factor) {",
        "        System.out.println(\"Sending customer notification: ID-\" + customerData.getCustomerID()*factor + \", First Name-\" + customerData.getFirstName() + \", Last Name-\" + customerData.getLastName());",
        "    }",
        "}",
        "//#### example 5 end ##################################",
        "",
        "//### Example 6 #############",
        "// method parameters to method parameters' data clump",
        "class Example6A {",
        "",
        "    // both classes have methods which share at least 3 parameters, so we can extract those 3 parameters into a class",
        "    void processTaskData(int taskID, String description, String status,String prefix) {",
        "        System.out.println(\"Processing task data: ID-\" + taskID + \", Description-\" + description + \", Status-\" + prefix+\":\"+status);",
        "    }",
        "",
        " ",
        "}",
        "",
        "",
        "class Example6B {",
        "    void finishTask(int taskID, String description, String status,boolean lowerCase) {",
        "        System.out.println(\"Finishing task: ID-\" + taskID + \", Description-\" + description + \", Status-\" + lowerCase?status.toLowerCase():status);",
        "    }",
        "}",
        "//## refactored ##################################",
        "",
        "class TaskData{",
        "    int taskID;",
        "    String description;",
        "    String status;",
        "    TaskData(int taskID, String description, String status){",
        "        this.taskID = taskID;",
        "        this.description = description;",
        "        this.status = status;",
        "    }",
        "    public int getTaskID() {",
        "        return taskID;",
        "    }",
        "    public String getDescription() {",
        "        return description;",
        "    }",
        "    public String getStatus() {",
        "        return status;",
        "    }",
        "",
        "    public void setTaskID(int taskID) {",
        "        this.taskID = taskID;",
        "    }",
        "    public void setDescription(String description) {",
        "        this.description = description;",
        "    }",
        "    public void setStatus(String status) {",
        "        this.status = status;",
        "    } ",
        "       ",
        "}",
        "class Example6A {",
        "    void processTaskData(TaskData taskData, String prefix) {",
        "        System.out.println(\"Processing task data: ID-\" + taskData.getTaskID() + \", Description-\" + taskData.getDescription() + \", Status-\" + prefix+\":\"+taskData.getStatus());",
        "    }",
        "",
        " ",
        "}",
        "class Example6B {",
        "    void finishTask(TaskData taskData, boolean lowerCase) {",
        "        System.out.println(\"Finishing task: ID-\" + taskData.getTaskID() + \", Description-\" + taskData.getDescription() + \", Status-\" + lowerCase?taskData.getStatus().toLowerCase():taskData.getStatus());",
        "    }",
        "}",
        "//## Example 6 end ##################################",
        "",
        "",
        "//## example 7 ##################################",
        "// 'fields to fields' data clump",
        "class Example7A {",
        "",
        "    // both classes share at least 3 fields, so we can extract those 3 fields into a class",
        "    private int postID;",
        "    private String title;",
        "    private String content;",
        "    private String author;",
        "",
        "    void processBlogPostData() {",
        "        System.out.println(\"Processing blog post data: PostID-\" + postID + \", Title-\" + title + \", Content-\" + content+\", Author-\"+author);",
        "    }",
        "    Example7A(int postID, String title, String content, String author){",
        "        this.postID = postID;",
        "        this.title = title;",
        "        this.content = content;",
        "        this.author = author;",
        "    }",
        "   ",
        "}",
        "",
        "// Example7B.java",
        "class Example7B {",
        "    private int postID;",
        "    private String title;",
        "    private String content;",
        "    private int length;",
        "    void distributeBlogPost(int postID, String title, String content) {",
        "        System.out.println(\"Distributing blog post: PostID-\" + postID + \", Title-\" + title + \", Content-\" + content+ \", Length-\" + length+ \"words\");",
        "    }",
        "    Example7B(int postID, String title, String content){",
        "        this.postID = postID;",
        "        this.title = title;",
        "        this.content = content;",
        "        this.length = content.split(\" \").length;",
        "    }",
        "}",
        "//## refactored ##################################",
        "",
        "class BlogPost{",
        "    int postID;",
        "    String title;",
        "    String content;",
        "    BlogPost(int postID, String title, String content, String author){",
        "        this.postID = postID;",
        "        this.title = title;",
        "        this.content = content;",
        "    }",
        "    public int getPostID() {",
        "        return postID;",
        "    }",
        "    public String getTitle() {",
        "        return title;",
        "    }",
        "    public String getContent() {",
        "        return content;",
        "    }",
        "",
        "",
        "    public void setPostID(int postID) {",
        "        this.postID = postID;",
        "    }",
        "    public void setTitle(String title) {",
        "        this.title = title;",
        "    }",
        "    public void setContent(String content) {",
        "        this.content = content;",
        "    }",
        "   ",
        "       ",
        "}",
        "",
        "class Example7A {",
        "    private BlogPost blogPost;",
        "    private String author;",
        "    void processBlogPostData() {",
        "        System.out.println(\"Processing blog post data: PostID-\" + blogPost.getPostID() + \", Title-\" + blogPost.getTitle() + \", Content-\" + blogPost.getContent()+\", Author-\"+author);",
        "    }",
        "    Example7A(int postID, String title, String content, String author){",
        "        this.blogPost = new BlogPost(postID, title, content);",
        "        this.author = author;",
        "    }",
        "   ",
        "}",
        "class Example7B {",
        "    private BlogPost blogPost;",
        "    private int length;",
        "    void distributeBlogPost() {",
        "        System.out.println(\"Distributing blog post: PostID-\" + blogPost.getPostID() + \", Title-\" + blogPost.getTitle() + \", Content-\" + blogPost.getContent()+ \", Length-\" + length+ \"words\");",
        "    }",
        "    Example7B(int postID, String title, String content){",
        "        this.blogPost = new BlogPost(postID, title, content);",
        "        this.length= content.split(\" \").length;",
        "    }",
        "}",
        "//## example 7 end ##################################",
        "",
        "",
        "//## example 8 ##################################",
        "// 'method parameters to fields' data clump",
        "class Example8A {",
        "    void processEventData(int eventID, String title, LocalDateTime dateTime,boolean isGlobalEvent) {",
        "        // this method shares at least 3 parameters with the fields in Example8B, so we can extract those 3 parameters into a class",
        "        System.out.println(\"Processing event data: EventID-\" + eventID + \", Title-\" + title + \", Date and Time-\" + dateTime+\", Is Global Event-\"+isGlobalEvent);",
        "    }   ",
        "}",
        "",
        "// Example8B.java",
        "class Example8B {",
        "    private int eventID;",
        "    private String title;",
        "    private LocalDateTime dateTime;",
        "    private Object params;",
        "",
        "    void attendEvent() {",
        "        System.out.println(\"Attending event: EventID-\" + eventID + \", Title-\" + title + \", Date and Time-\" + dateTime + \", Params-\" + params.toString());",
        "    }",
        "}",
        "//## refactored ##################################",
        "class EventData{",
        "    int eventID;",
        "    String title;",
        "    LocalDateTime dateTime;",
        "    EventData(int eventID, String title, LocalDateTime dateTime){",
        "        this.eventID = eventID;",
        "        this.title = title;",
        "        this.dateTime = dateTime;",
        "    }",
        "    public int getEventID() {",
        "        return eventID;",
        "    }",
        "    public String getTitle() {",
        "        return title;",
        "    }",
        "    public LocalDateTime getDateTime() {",
        "        return dateTime;",
        "    }",
        "",
        "    public void setEventID(int eventID) {",
        "        this.eventID = eventID;",
        "    }",
        "    public void setTitle(String title) {",
        "        this.title = title;",
        "    }",
        "    public void setDateTime(LocalDateTime dateTime) {",
        "        this.dateTime = dateTime;",
        "    }",
        " ",
        "       ",
        "}",
        "class Example8A {",
        "    private EventData eventData;",
        "    private  boolean isGlobalEvent;",
        "    void processEventData() {",
        "        System.out.println(\"Processing event data: EventID-\" + eventData.getEventID() + \", Title-\" + eventData.getTitle() + \", Date and Time-\" + eventData.getDateTime()+\", Is Global Event-\"+eventData.getIsGlobalEvent());",
        "    }   ",
        "    Example8A(int eventID, String title, LocalDateTime dateTime,boolean isGlobalEvent){",
        "        this.eventData = new EventData(eventID, title, dateTime);",
        "        this.isGlobalEvent = isGlobalEvent;",
        "    }",
        "}",
        "class Example8B {",
        "    private EventData eventData;",
        "    private Object params;",
        "    void attendEvent() {",
        "        System.out.println(\"Attending event: EventID-\" + eventData.getEventID() + \", Title-\" + eventData.getTitle() + \", Date and Time-\" + eventData.getDateTime() + \", Params-\" + params.toString());",
        "    }",
        "    Example8B(int eventID, String title, LocalDateTime dateTime){",
        "        this.eventData = new EventData(eventID, title, dateTime);",
        "        this.params = params;",
        "    }",
        "}",
        "//## example 8 end ##################################",
        "",
        "//## example 9 ##################################",
        "class Example9A {",
        "    void processPaymentData(int paymentID, int orderID, double paymentAmount) {",
        "        System.out.println(\"Processing payment data: PaymentID-\" + paymentID + \", OrderID-\" + orderID + \", Amount-\" + paymentAmount);",
        "    }",
        "}",
        "",
        "// Example9B.java",
        "class Example9B extends Example9A {",
        "    @Override",
        "    void processPaymentData(int paymentID, int orderID, double paymentAmount) {",
        "        // This method constitutes not a data clump even if signature is copied because the method is overridden and therefore must have the same paremeters",
        "        System.out.println(\"Confirming payment: PaymentID-\" + paymentID + \", OrderID-\" + orderID + \", Amount-\" + paymentAmount);",
        "    }",
        "}",
        "//## example 9 end ##################################",
        "",
        "",
        ""
      ]
    ],
    "messageType": "input"
  },
  {
    "messages": [
      [
        "//src/argouml-app/tests/org/argouml/profile/internal/ocl/TestDefaultOclEvaluator.java",
        "/* $Id$",
        " *****************************************************************************",
        " * Copyright (c) 2009 Contributors - see below",
        " * All rights reserved. This program and the accompanying materials",
        " * are made available under the terms of the Eclipse Public License v1.0",
        " * which accompanies this distribution, and is available at",
        " * http://www.eclipse.org/legal/epl-v10.html",
        " *",
        " * Contributors:",
        " *    maurelio1234",
        " *****************************************************************************",
        " *",
        " * Some portions of this file was previously release using the BSD License:",
        " */",
        "",
        "// Copyright (c) 2008 The Regents of the University of California. All",
        "// Rights Reserved. Permission to use, copy, modify, and distribute this",
        "// software and its documentation without fee, and without a written",
        "// agreement is hereby granted, provided that the above copyright notice",
        "// and this paragraph appear in all copies. This software program and",
        "// documentation are copyrighted by The Regents of the University of",
        "// California. The software program and documentation are supplied \"AS",
        "// IS\", without any accompanying services from The Regents. The Regents",
        "// does not warrant that the operation of the program will be",
        "// uninterrupted or error-free. The end-user understands that the program",
        "// was developed for research purposes and is advised not to rely",
        "// exclusively on the program for any reason. IN NO EVENT SHALL THE",
        "// UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT,",
        "// SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS,",
        "// ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF",
        "// THE UNIVERSITY OF CALIFORNIA HAS BEEN ADVISED OF THE POSSIBILITY OF",
        "// SUCH DAMAGE. THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY",
        "// WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF",
        "// MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE",
        "// PROVIDED HEREUNDER IS ON AN \"AS IS\" BASIS, AND THE UNIVERSITY OF",
        "// CALIFORNIA HAS NO OBLIGATIONS TO PROVIDE MAINTENANCE, SUPPORT,",
        "// UPDATES, ENHANCEMENTS, OR MODIFICATIONS.",
        "",
        "package org.argouml.profile.internal.ocl;",
        "",
        "import java.util.Collection;",
        "import java.util.HashMap;",
        "import java.util.HashSet;",
        "import java.util.List;",
        "import java.util.Map;",
        "import java.util.Set;",
        "",
        "import junit.framework.TestCase;",
        "",
        "import org.argouml.model.InitializeModel;",
        "import org.argouml.model.Model;",
        "import org.argouml.profile.internal.ocl.uml14.Bag;",
        "import org.argouml.profile.internal.ocl.uml14.Uml14ModelInterpreter;",
        "",
        "/**",
        " * Tests for the EvaluateExpression class.",
        " * ",
        " * @author maurelio1234",
        " */",
        "public class TestDefaultOclEvaluator extends TestCase {",
        "    ",
        "    @SuppressWarnings(\"unused\")",
        "    private class DummyModelInterpreter implements ModelInterpreter {",
        "",
        "        /**",
        "         * @see org.argouml.profile.internal.ocl.ModelInterpreter#getBuiltInSymbol(java.lang.String)",
        "         */",
        "        public Object getBuiltInSymbol(String sym) {",
        "            return null;",
        "        }",
        "",
        "        public Object invokeFeature(HashMap<String, Object> vt, Object subject,",
        "                 String feature, String type, Object[] parameters) {",
        "            return null;",
        "        }",
        "",
        "        public Object invokeFeature(Map<String, Object> vt, Object subject,",
        "                String feature, String type, Object[] parameters) {",
        "            return null;",
        "        }",
        "        ",
        "    }",
        "    ",
        "    @Override",
        "    protected void setUp() throws Exception {",
        "        super.setUp();",
        "        InitializeModel.initializeDefault();",
        "    }",
        "",
        "    /**",
        "     * Test the basic values and types (section 8.4)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    public void testBasicValuesAndTypes() throws Exception {",
        "        assertEquals(DefaultOclEvaluator.getInstance()",
        "                .evaluate(null, null, \"true\"), true);",
        "        assertEquals(DefaultOclEvaluator.getInstance()",
        "                .evaluate(null, null, \"false\"), false);",
        "        assertEquals(DefaultOclEvaluator.getInstance()",
        "                .evaluate(null, null, \"5\"), 5);        ",
        "        assertEquals(DefaultOclEvaluator.getInstance()",
        "                .evaluate(null, null, \"-2\"), -2);",
        "",
        "        // TODO real numbers not yet supported",
        "        //assertEquals(DefaultOclEvaluator.getInstance()",
        "                //.evaluate(null, null, \"1.5\"), 1.5);",
        "        ",
        "        // TODO write test for enumerations, although they are not yet supported",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(null, null,",
        "                \"'to be or not to be'\"), \"to be or not to be\");",
        "    }",
        "    ",
        "    /**",
        "     * Test the let expressions (section 8.4.3)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    public void testLetExpressions() throws Exception {",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(",
        "                new HashMap<String, Object>(), new DummyModelInterpreter(),",
        "                \"let x : Integer = 12 in x * 5\"), 60);",
        "    }",
        "    ",
        "    // TODO do tests for type conformance (8.4.4),",
        "    // even though it is not yet supported",
        "    ",
        "    // TODO do tests for infix operators (8.4.7),",
        "    // even though it is not yet supported",
        "",
        "    /**",
        "     * Test the undefined values (section 8.4.10)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    public void testUndefined() throws Exception {",
        "        HashMap<String, Object> vt = new HashMap<String, Object>();",
        "        ModelInterpreter mi = new DummyModelInterpreter();",
        "        ",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"false and x\"), false);",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"x and false\"), false);",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"true or x\"), true);",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"x or true\"), true);        ",
        "    }",
        "    ",
        "    /**",
        "     * Test collections operations in objects (section 8.5.4.2)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    public void testObjectAsCollection() throws Exception {",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(null,",
        "                new Uml14ModelInterpreter(), \"2->size()\"), 1);",
        "    }",
        "",
        "    // TODO do tests for navigation to association classes (8.5.5),",
        "    // even though it is not yet supported",
        "",
        "    /**",
        "     * Test predefined properties on all objects (section 8.5.10)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    public void testPredefinedPropertiesAllObjects() throws Exception {",
        "        Object iface = Model.getCoreFactory().buildInterface();",
        "        ",
        "        HashMap<String, Object> vt = new HashMap<String, Object>();",
        "        ModelInterpreter mi = new Uml14ModelInterpreter();",
        "        ",
        "        vt.put(\"x\", iface);",
        "",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(vt, mi, \"x\"),",
        "                iface);",
        "        ",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "            \"x.oclIsTypeOf(Interface)\"), true);",
        "        ",
        "//        assertEquals(DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "//                \"x.oclIsKindOf(Classifier)\"), true);               ",
        "    }",
        "",
        "    // TODO do tests for allInstances (8.5.11),",
        "    // even though it is not yet supported",
        "",
        "    // TODO do tests for ranges in collection definition (8.5.12),",
        "    // even though it is not yet supported",
        "",
        "    /**",
        "     * Test set constructor (section 8.5.12)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    @SuppressWarnings(\"unchecked\")",
        "    public void testSetConstructors() throws Exception {",
        "        HashMap<String, Object> vt = new HashMap<String, Object>();",
        "        ModelInterpreter mi = new Uml14ModelInterpreter();",
        "        ",
        "        Object obj = DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"Set{1,2,5,88}\");",
        "",
        "        assertTrue(obj instanceof Set);",
        "        ",
        "        Set<Object> oset = (Set<Object>) obj;",
        "        assertTrue(oset.size() == 4);",
        "        assertTrue(oset.contains(1));",
        "        assertTrue(oset.contains(2));",
        "        assertTrue(oset.contains(5));        ",
        "        assertTrue(oset.contains(88));",
        "",
        "    }",
        "    ",
        "    /**",
        "     * Test bag constructor (section 8.5.12)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    @SuppressWarnings(\"unchecked\")",
        "    public void testBagConstructors() throws Exception {",
        "        HashMap<String, Object> vt = new HashMap<String, Object>();",
        "        ModelInterpreter mi = new Uml14ModelInterpreter();",
        "        ",
        "        Object obj = DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"Bag{1,3,4,3,5}\");",
        "",
        "        assertTrue(obj instanceof Bag);",
        "        ",
        "        Bag<Object> obag = (Bag<Object>) obj;",
        "        assertTrue(obag.size() == 5);",
        "        assertTrue(obag.contains(1));",
        "        assertTrue(obag.contains(3));",
        "        assertTrue(obag.contains(4));        ",
        "        assertTrue(obag.contains(5));",
        "        assertTrue(obag.count(1) == 1);",
        "        assertTrue(obag.count(3) == 2);",
        "    }",
        "",
        "    /**",
        "     * Test sequence constructor (section 8.5.12)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    @SuppressWarnings(\"unchecked\")",
        "    public void testSequenceConstructors() throws Exception {",
        "        HashMap<String, Object> vt = new HashMap<String, Object>();",
        "        ModelInterpreter mi = new Uml14ModelInterpreter();",
        "        ",
        "        Object obj = DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"Sequence{'ape', 'nut'}\");",
        "",
        "        assertTrue(obj instanceof List);",
        "        ",
        "        List<Object> oseq = (List<Object>) obj;",
        "        assertTrue(oseq.size() == 2);",
        "        assertTrue(oseq.contains(\"ape\"));",
        "        assertTrue(oseq.contains(\"nut\"));",
        "        assertTrue(oseq.get(0).equals(\"ape\"));",
        "        assertTrue(oseq.get(1).equals(\"nut\"));",
        "    }",
        "",
        "    // TODO do tests for collections of collections (8.5.13),",
        "    // even though it is not yet supported ",
        "    // question: should this happen with all collections or only ",
        "    // the constructed ones?",
        "",
        "    /**",
        "     * Test select operation (section 8.6.1)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    @SuppressWarnings(\"unchecked\")",
        "    public void testSelectOperation() throws Exception {",
        "        HashMap<String, Object> vt = new HashMap<String, Object>();",
        "        ModelInterpreter mi = new Uml14ModelInterpreter();",
        "        ",
        "        Object obj = DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"Set{1,2,3,4,5}->select(x|x>3)\");",
        "",
        "        assertTrue(obj instanceof Collection);",
        "        ",
        "        Collection<Object> ocol = (Collection<Object>) obj;",
        "        assertTrue(ocol.size() == 2);",
        "        assertTrue(ocol.contains(4));",
        "        assertTrue(ocol.contains(5));",
        "    }",
        "  ",
        "    /**",
        "     * Test reject operation (section 8.6.1)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    @SuppressWarnings(\"unchecked\")",
        "    public void testRejectOperation() throws Exception {",
        "        HashMap<String, Object> vt = new HashMap<String, Object>();",
        "        ModelInterpreter mi = new Uml14ModelInterpreter();",
        "        ",
        "        Object obj = DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"Set{1,2,3,4,5}->reject(x|x>3)\");",
        "",
        "        assertTrue(obj instanceof Collection);",
        "        ",
        "        Collection<Object> ocol = (Collection<Object>) obj;",
        "        assertTrue(ocol.size() == 3);",
        "        assertTrue(ocol.contains(1));",
        "        assertTrue(ocol.contains(2));",
        "        assertTrue(ocol.contains(3));",
        "    }",
        "",
        "    /**",
        "     * Test collect operation (section 8.6.2 & 8.6.2.1)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    @SuppressWarnings(\"unchecked\")",
        "    public void testCollectOperation() throws Exception {        ",
        "        HashMap<String, Object> vt = new HashMap<String, Object>();",
        "        ModelInterpreter mi = new Uml14ModelInterpreter();",
        "",
        "        Set<Object> classes = new HashSet<Object>();",
        "        classes.add(Model.getCoreFactory().buildClass(\"class1\"));",
        "        classes.add(Model.getCoreFactory().buildClass(\"class2\"));",
        "        classes.add(Model.getCoreFactory().buildClass(\"class2\"));",
        "        ",
        "        vt.put(\"x\", classes);",
        "        ",
        "        Object obj1 = DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"x.name\");",
        "        assertTrue(obj1 instanceof Collection);        ",
        "        assertTrue(((Collection<Object>) obj1).size() == 3);",
        "",
        "        Object obj2 = DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"x->collect(x|x.name)\");",
        "        assertTrue(obj2 instanceof Collection);        ",
        "        assertTrue(((Collection<Object>) obj2).size() == 3);",
        "        assertEquals(obj1, obj2);",
        "    }",
        "",
        "    /**",
        "     * Test forAll operation (section 8.6.3)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    @SuppressWarnings(\"unchecked\")",
        "    public void testForAllOperation() throws Exception {",
        "        HashMap<String, Object> vt = new HashMap<String, Object>();",
        "        ModelInterpreter mi = new Uml14ModelInterpreter();",
        "        ",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"Set{1,2,3,4,5}->forAll(x|x>0)\"), true);",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"Set{1,2,3,4,5}->forAll(x|x<4)\"), false);",
        "        ",
        "    }",
        "",
        "    /**",
        "     * Test exists operation (section 8.6.4)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    @SuppressWarnings(\"unchecked\")",
        "    public void testExistsOperation() throws Exception {",
        "        HashMap<String, Object> vt = new HashMap<String, Object>();",
        "        ModelInterpreter mi = new Uml14ModelInterpreter();",
        "        ",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"Set{1,2,3,4,5}->exists(x|x>3)\"), true);",
        "        assertEquals(DefaultOclEvaluator.getInstance().evaluate(vt, mi,",
        "                \"Set{1,2,3,4,5}->exists(x|x>40)\"), false);",
        "        ",
        "    }",
        "        ",
        "}",
        "",
        ""
      ]
    ],
    "messageType": "input"
  },
  {
    "messages": [
      [
        "//src/argouml-app/tests/org/argouml/profile/internal/ocl/TestOclInterpreter.java",
        "/* $Id$",
        " *****************************************************************************",
        " * Copyright (c) 2009 Contributors - see below",
        " * All rights reserved. This program and the accompanying materials",
        " * are made available under the terms of the Eclipse Public License v1.0",
        " * which accompanies this distribution, and is available at",
        " * http://www.eclipse.org/legal/epl-v10.html",
        " *",
        " * Contributors:",
        " *    maurelio1234",
        " *****************************************************************************",
        " *",
        " * Some portions of this file was previously release using the BSD License:",
        " */",
        "",
        "// Copyright (c) 2007 The Regents of the University of California. All",
        "// Rights Reserved. Permission to use, copy, modify, and distribute this",
        "// software and its documentation without fee, and without a written",
        "// agreement is hereby granted, provided that the above copyright notice",
        "// and this paragraph appear in all copies. This software program and",
        "// documentation are copyrighted by The Regents of the University of",
        "// California. The software program and documentation are supplied \"AS",
        "// IS\", without any accompanying services from The Regents. The Regents",
        "// does not warrant that the operation of the program will be",
        "// uninterrupted or error-free. The end-user understands that the program",
        "// was developed for research purposes and is advised not to rely",
        "// exclusively on the program for any reason. IN NO EVENT SHALL THE",
        "// UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT,",
        "// SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS,",
        "// ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF",
        "// THE UNIVERSITY OF CALIFORNIA HAS BEEN ADVISED OF THE POSSIBILITY OF",
        "// SUCH DAMAGE. THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY",
        "// WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF",
        "// MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE",
        "// PROVIDED HEREUNDER IS ON AN \"AS IS\" BASIS, AND THE UNIVERSITY OF",
        "// CALIFORNIA HAS NO OBLIGATIONS TO PROVIDE MAINTENANCE, SUPPORT,",
        "// UPDATES, ENHANCEMENTS, OR MODIFICATIONS.",
        "",
        "package org.argouml.profile.internal.ocl;",
        "",
        "import java.util.HashMap;",
        "import java.util.Map;",
        "",
        "import junit.framework.TestCase;",
        "",
        "import org.argouml.model.InitializeModel;",
        "import org.argouml.model.Model;",
        "",
        "/**",
        " * Tests for the OclInterpreter class.",
        " * ",
        " * @author maurelio1234",
        " */",
        "public class TestOclInterpreter extends TestCase {",
        "",
        "    @SuppressWarnings(\"unused\")",
        "    private class DefaultModelInterpreter implements ModelInterpreter {",
        "        public Object invokeFeature(HashMap<String, Object> vt, Object subject,",
        "                String feature, String type, Object[] parameters) {",
        "            return null;",
        "        }",
        "",
        "        public Object getBuiltInSymbol(String sym) {",
        "            return null;",
        "        }",
        "",
        "        public Object invokeFeature(Map<String, Object> vt, Object subject,",
        "                String feature, String type, Object[] parameters) {",
        "            return null;",
        "        }",
        "    }",
        "",
        "    @Override",
        "    protected void setUp() throws Exception {",
        "        super.setUp();",
        "        InitializeModel.initializeDefault();",
        "    }",
        "",
        "    /**",
        "     * Test <code>applicable</code> operation",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    public void testApplicable() throws Exception {",
        "        Object obj1 = Model.getUseCasesFactory().createActor();",
        "        Object obj2 = Model.getActivityGraphsFactory().createPartition();",
        "",
        "        String ocl = \"context Actor inv: 2 > 0\";",
        "",
        "        OclInterpreter interpreter = new OclInterpreter(ocl,",
        "                new DefaultModelInterpreter());",
        "",
        "        assertTrue(interpreter.applicable(obj1));",
        "        assertFalse(interpreter.applicable(obj2));",
        "    }",
        "",
        "    /**",
        "     * Test <code>getTriggers</code> operation",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    public void testGetTriggers() throws Exception {",
        "        String ocl = \"context Actor inv: 2 > 0\";",
        "",
        "        OclInterpreter interpreter = new OclInterpreter(ocl,",
        "                new DefaultModelInterpreter());",
        "",
        "        assertTrue(interpreter.getTriggers().contains(\"actor\"));",
        "    }",
        "",
        "    /**",
        "     * Test <code>check</code> operation (general)",
        "     * ",
        "     * @throws Exception if something goes wrong",
        "     */",
        "    public void testCheckGeneral() throws Exception {",
        "        Object obj = Model.getUseCasesFactory().createActor();",
        "",
        "        String ocl1 = \"context Actor inv: 2 > 0\";",
        "        String ocl2 = \"context Actor inv: 2 < 0\";",
        "",
        "        OclInterpreter interpreter1 = new OclInterpreter(ocl1,",
        "                new DefaultModelInterpreter());",
        "        OclInterpreter interpreter2 = new OclInterpreter(ocl2,",
        "                new DefaultModelInterpreter());",
        "",
        "        assertTrue(interpreter1.check(obj));",
        "        assertFalse(interpreter2.check(obj));",
        "    }",
        "",
        "}",
        ""
      ]
    ],
    "messageType": "input"
  },
  {
    "messages": [
      [
        "//src/argouml-core-model/src/org/argouml/model/ModelEventPump.java",
        "/* $Id$",
        " *******************************************************************************",
        " * Copyright (c) 2009 Contributors - see below",
        " * All rights reserved. This program and the accompanying materials",
        " * are made available under the terms of the Eclipse Public License v1.0",
        " * which accompanies this distribution, and is available at",
        " * http://www.eclipse.org/legal/epl-v10.html",
        " *",
        " * Contributors:",
        " *    tfmorris",
        " *******************************************************************************",
        " *",
        " * Some portions of this file was previously release using the BSD License:",
        " */",
        "",
        "// Copyright (c) 2004-2007 The Regents of the University of California. All",
        "// Rights Reserved. Permission to use, copy, modify, and distribute this",
        "// software and its documentation without fee, and without a written",
        "// agreement is hereby granted, provided that the above copyright notice",
        "// and this paragraph appear in all copies.  This software program and",
        "// documentation are copyrighted by The Regents of the University of",
        "// California. The software program and documentation are supplied \"AS",
        "// IS\", without any accompanying services from The Regents. The Regents",
        "// does not warrant that the operation of the program will be",
        "// uninterrupted or error-free. The end-user understands that the program",
        "// was developed for research purposes and is advised not to rely",
        "// exclusively on the program for any reason.  IN NO EVENT SHALL THE",
        "// UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY FOR DIRECT, INDIRECT,",
        "// SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING LOST PROFITS,",
        "// ARISING OUT OF THE USE OF THIS SOFTWARE AND ITS DOCUMENTATION, EVEN IF",
        "// THE UNIVERSITY OF CALIFORNIA HAS BEEN ADVISED OF THE POSSIBILITY OF",
        "// SUCH DAMAGE. THE UNIVERSITY OF CALIFORNIA SPECIFICALLY DISCLAIMS ANY",
        "// WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF",
        "// MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE. THE SOFTWARE",
        "// PROVIDED HEREUNDER IS ON AN \"AS IS\" BASIS, AND THE UNIVERSITY OF",
        "// CALIFORNIA HAS NO OBLIGATIONS TO PROVIDE MAINTENANCE, SUPPORT,",
        "// UPDATES, ENHANCEMENTS, OR MODIFICATIONS.",
        "",
        "package org.argouml.model;",
        "",
        "import java.beans.PropertyChangeListener;",
        "import java.util.List;",
        "",
        "",
        "/**",
        " * This is the interface for registering interest in events sent from",
        " * the model component.<p>",
        " *",
        " * Neither the registration or unregistration, nor the events themselves",
        " * contain any reference to the model implementation.  Instead they",
        " * use the {@link java.beans.PropertyChangeListener},",
        " * {@link java.beans.PropertyChangeEvent} to",
        " * deliver events.<p>",
        " *",
        " * The reference to the listener is a WeakReference so you don't need to",
        " * call removeWHATEVERListener, you can just forget about your listener",
        " * and it is eventually finalized and removed. This also means that you",
        " * will have to keep a reference to your listener while it is active.",
        " * Since the garbage collecting mechanism is not really deterministic",
        " * a forgotten about listener might still receive events. Unless it can",
        " * handle them in a harmless way, this approach should not be used.",
        " *",
        " * TODO: (Is this still true or does it refer to the NSUML",
        " * implementation? - tfm 20051109)",
        " * (This is part of the contract that is established between the Model",
        " * subsystem and its users. If that is not fulfilled by the current",
        " * implementation, then the current implementation is incorrect.",
        " * Linus 20060411).<p>",
        " *",
        " * TODO: What event names?",
        " * The event names generated are {@link String}s and their values and",
        " * meanings are not really well documented. In general they are the",
        " * name of an an association end or attribute in the UML metamodel.<p>",
        " *",
        " * Here are some highlights:<ul>",
        " * <li>\"remove\" - event sent when the element is removed.",
        " * </ul>",
        " *",
        " * @author Linus Tolke",
        " */",
        "public interface ModelEventPump {",
        "    // Operations that work on elements:",
        "",
        "    /**",
        "     * Adds a listener to modelevents that are fired by some given modelelement",
        "     * and that have any of the names in eventNames.<p>",
        "     *",
        "     * @param listener The listener to add",
        "     * @param modelelement The modelelement the listener should be added too",
        "     * @param propertyNames The array of property names the listener wishes to",
        "     * receive events for",
        "     */",
        "    void addModelEventListener(UmlChangeListener listener,",
        "                               Object modelelement,",
        "                               String[] propertyNames);",
        "",
        "    /**",
        "     * Adds a listener to modelevents that are fired by some given modelelement",
        "     * and that have the name in eventName.<p>",
        "     *",
        "     * @param listener The listener to add",
        "     * @param modelelement The modelelement the listener should be added too",
        "     * @param propertyName The property name the listener wishes to",
        "     * receive events for",
        "     */",
        "    void addModelEventListener(UmlChangeListener listener,",
        "                               Object modelelement,",
        "                               String propertyName);",
        "",
        "    /**",
        "     * Adds a listener to modelevents that are fired by some given modelelement",
        "     * and that have any of the names in eventNames.<p>",
        "     *",
        "     * @param listener The listener to add",
        "     * @param modelelement The modelelement the listener should be added too",
        "     * @param propertyNames The array of property names the listener wishes to",
        "     * receive events for",
        "     */",
        "    void addModelEventListener(PropertyChangeListener listener,",
        "            \t\t       Object modelelement,",
        "\t\t\t       String[] propertyNames);",
        "",
        "    /**",
        "     * Adds a listener to modelevents that are fired by some given modelelement",
        "     * and that have the name in eventName.<p>",
        "     *",
        "     * @param listener The listener to add",
        "     * @param modelelement The modelelement the listener should be added too",
        "     * @param propertyName The property name the listener wishes to",
        "     * receive events for",
        "     */",
        "    void addModelEventListener(PropertyChangeListener listener,",
        "\t\t\t       Object modelelement,",
        "\t\t\t       String propertyName);",
        "",
        "    /**",
        "     * Adds a listener to all events fired by some modelelement.",
        "     *",
        "     * @param listener is the listener to add",
        "     * @param modelelement is the model element",
        "     */",
        "    void addModelEventListener(PropertyChangeListener listener,",
        "            \t\t       Object modelelement);",
        "",
        "    /**",
        "     * Removes a listener that listens to modelevents with name",
        "     * eventNames that are fired by the given modelelement.<p>",
        "     *",
        "     * @param listener The listener to remove",
        "     * @param modelelement The modelelement that fires the events the",
        "     * listener is listening to.",
        "     * @param propertyNames The property names the listener no longer wishes to",
        "     * receive events for",
        "     */",
        "    void removeModelEventListener(UmlChangeListener listener,",
        "                                  Object modelelement,",
        "                                  String[] propertyNames);",
        "",
        "    /**",
        "     * Removes a listener that listens to modelevents with name",
        "     * eventName that are fired by the given modelelement.<p>",
        "     *",
        "     * @param listener The listener to remove.",
        "     * @param modelelement The modelelement that fires the events the",
        "     * listener is listening to.",
        "     * @param propertyName The property name the listener no longer wishes to",
        "     * receive events for",
        "     */",
        "    void removeModelEventListener(UmlChangeListener listener,",
        "                                  Object modelelement,",
        "                                  String propertyName);",
        "",
        "    /**",
        "     * Removes a listener that listens to modelevents with name",
        "     * eventNames that are fired by the given modelelement.<p>",
        "     *",
        "     * @param listener The listener to remove",
        "     * @param modelelement The modelelement that fires the events the",
        "     * listener is listening to.",
        "     * @param propertyNames The property names the listener no longer wishes to",
        "     * receive events for",
        "     */",
        "    void removeModelEventListener(PropertyChangeListener listener,",
        "\t\t\t\t  Object modelelement,",
        "\t\t\t\t  String[] propertyNames);",
        "",
        "    /**",
        "     * Removes a listener that listens to modelevents with name",
        "     * eventName that are fired by the given modelelement.<p>",
        "     *",
        "     * @param listener The listener to remove.",
        "     * @param modelelement The modelelement that fires the events the",
        "     * listener is listening to.",
        "     * @param propertyName The property name the listener no longer wishes to",
        "     * receive events for",
        "     */",
        "    void removeModelEventListener(PropertyChangeListener listener,",
        "\t\t\t\t  Object modelelement,",
        "\t\t\t\t  String propertyName);",
        "",
        "    /**",
        "     * Removes a listener that listens to all events fired by the",
        "     * given modelelement.<p>",
        "     *",
        "     * @param listener is the listener",
        "     * @param modelelement is the model element",
        "     */",
        "    void removeModelEventListener(PropertyChangeListener listener,",
        "\t\t\t\t  Object modelelement);",
        "",
        "    // Operations that work on classes of objects:",
        "",
        "    /**",
        "     * Adds a listener that listens to all events that are named eventNames and",
        "     * that occur to instances of the given modelClass.",
        "     * <p>",
        "     * ",
        "     * @param listener",
        "     *            is the listener to add.",
        "     * @param modelClass",
        "     *            is the given model class",
        "     * @param propertyNames",
        "     *            The property names the listener wishes to receive events for.",
        "     *            If null or an empty array, all events will be returned.",
        "     * @throws IllegalArgumentException",
        "     *             if one of the arguments is null or if the modelClass is not a",
        "     *             valid metamodel class.",
        "     * @throws IllegalStateException",
        "     *             if the listener is already registred.",
        "     */",
        "    void addClassModelEventListener(PropertyChangeListener listener,",
        "\t\t\t\t    Object modelClass,",
        "\t\t\t\t    String[] propertyNames);",
        "",
        "    /**",
        "     * Adds a listener that listens to the event that is named eventName and",
        "     * that occur to instances of the given modelClass.  If you want to be ",
        "     * notified of changes on all properties, use ",
        "     * {@link #addClassModelEventListener(PropertyChangeListener, Object, String[])}",
        "     * with a null third argument.",
        "     * <p>",
        "     * ",
        "     * @param listener",
        "     *            is the listener to add.",
        "     * @param modelClass",
        "     *            is the given model class",
        "     * @param propertyName",
        "     *            The property name the listener wishes to receive events for.",
        "     * @throws IllegalArgumentException",
        "     *             if one of the arguments is null or if the modelClass is not a",
        "     *             valid metamodel class.",
        "     * @throws IllegalStateException",
        "     *             if the listener is already registered.",
        "     */",
        "    void addClassModelEventListener(PropertyChangeListener listener,",
        "\t\t\t\t    Object modelClass,",
        "\t\t\t\t    String propertyName);",
        "",
        "    /**",
        "     * Removes a listener that listens to all modelevents fired by instances of",
        "     * modelClass and that have the original name eventNames.",
        "     *",
        "     * @param listener The listener to remove",
        "     * @param modelClass The class the listener does not want to listen to",
        "     * instances anymore",
        "     * @param propertyNames The property names the listener no longer wishes to",
        "     * receive events for",
        "     */",
        "    void removeClassModelEventListener(PropertyChangeListener listener,",
        "\t\t\t\t       Object modelClass,",
        "\t\t\t\t       String[] propertyNames);",
        "",
        "    /**",
        "     * Removes a listener that listens to all modelevents fired by instances of",
        "     * modelClass and that have the name eventName.",
        "     *",
        "     * @param listener The listener to remove",
        "     * @param modelClass The class the listener does not want to listen to",
        "     * instances anymore.",
        "     * @param propertyName The property name the listener no longer wishes to",
        "     * receive events for",
        "     */",
        "    void removeClassModelEventListener(PropertyChangeListener listener,",
        "\t\t\t\t       Object modelClass,",
        "\t\t\t\t       String propertyName);",
        "",
        "    /**",
        "     * Start the ModelEventPump firing events.",
        "     */",
        "    void startPumpingEvents();",
        "",
        "    /**",
        "     * Stop the ModelEventPump firing events.",
        "     */",
        "    void stopPumpingEvents();",
        "",
        "    /**",
        "     * Flush events from the ModelEventPump. Blocks until all events have been",
        "     * delivered.",
        "     * <p>",
        "     * <em>NOTE: </em> This may not be called from a ",
        "     * {@link PropertyChangeListener#propertyChange(java.beans.PropertyChangeEvent)}",
        "     * method which has been invoked by the ModelEventPump.",
        "     */",
        "    void flushModelEvents();",
        "    ",
        "    /**",
        "     * Get debug info for the event pump. Information returned is implementation",
        "     * specific. List returned contains either Strings or Lists. Lists may be",
        "     * nested arbitrarily deeply forming a tree of information. If a node",
        "     * contains children, the first entry in the list is expected to be a String",
        "     * with subsequent entries representing children.",
        "     * ",
        "     * @return List of Strings or other Lists.",
        "     */",
        "    @SuppressWarnings(\"unchecked\")",
        "    public List getDebugInfo();",
        "}",
        ""
      ]
    ],
    "messageType": "input"
  },
  {
    "messages": [
      {
        "data_clumps": {
          "data_clump_1": {
            "key": "data_clump_1",
            "from_file_path": "src/argouml-app/tests/org/argouml/profile/internal/ocl/TestDefaultOclEvaluator.java",
            "from_class_or_interface_key": "org.argouml.profile.internal.ocl.TestDefaultOclEvaluator",
            "from_class_or_interface_name": "TestDefaultOclEvaluator",
            "from_method_key": "org.argouml.profile.internal.ocl.TestDefaultOclEvaluator.setUp",
            "from_method_name": "setUp",
            "to_file_path": "src/argouml-app/tests/org/argouml/profile/internal/ocl/TestOclInterpreter.java",
            "to_class_or_interface_key": "org.argouml.profile.internal.ocl.TestOclInterpreter",
            "to_class_or_interface_name": "TestOclInterpreter",
            "to_method_key": "org.argouml.profile.internal.ocl.TestOclInterpreter.setUp",
            "to_method_name": "setUp",
            "data_clump_data": {
              "data_clump_variable_1": {
                "key": "data_clump_variable_1",
                "name": "setUp",
                "type": "void",
                "displayedType": "void",
                "position": {
                  "startLine": "37",
                  "startColumn": "5"
                },
                "to_variable": {
                  "key": "data_clump_variable_1",
                  "name": "setUp",
                  "type": "void",
                  "position": {
                    "startLine": "37",
                    "startColumn": "5"
                  }
                }
              }
            }
          }
        }
      }
    ],
    "messageType": "output"
  }
]