{
    "refactorings":{
        "spock-core/src/main/java/org/spockframework/builder/CollectionSlot.java": [
            {
                "fromLine": 23,
                "toLine": 23,
                "oldContent": "CollectionSlot(String name, Object owner, Type ownerType, MetaProperty property) {",
                "newContent": "CollectionSlot(SlotOwnerDetails ownerDetails, MetaProperty property) {"
            },
            {
                "fromLine": 24,
                "toLine": 26,
                "oldContent": "  private final String name;\n  private final Object owner;\n  private final Type ownerType;",
                "newContent": "  private final SlotOwnerDetails ownerDetails;"
            },
            {
                "fromLine": 27,
                "toLine": 27,
                "oldContent": "    this.name = name;",
                "newContent": "    this.ownerDetails = ownerDetails;"
            }
        ],
        "spock-core/src/main/java/org/spockframework/builder/PropertySlot.java": [
            {
                "fromLine": 22,
                "toLine": 22,
                "oldContent": "PropertySlot(Object owner, Type ownerType, MetaProperty property) {",
                "newContent": "PropertySlot(SlotOwnerDetails ownerDetails, MetaProperty property) {"
            },
            {
                "fromLine": 23,
                "toLine": 24,
                "oldContent": "  private final Object owner;\n  private final Type ownerType;",
                "newContent": "  private final SlotOwnerDetails ownerDetails;"
            },
            {
                "fromLine": 26,
                "toLine": 26,
                "oldContent": "    this.owner = owner;",
                "newContent": "    this.ownerDetails = ownerDetails;"
            }
        ],
        "spock-core/src/main/java/org/spockframework/runtime/Condition.java": [
            {
                "fromLine": 36,
                "toLine": 36,
                "oldContent": "\n  private final transient List<Object> values;",
                "newContent": "  private final ExpressionDetails expressionDetails;"
            },
            {
                "fromLine": 37,
                "toLine": 39,
                "oldContent": "  private final String text;\n  private final TextPosition position;\n  private final String message;",
                "newContent": ""
            }
        ],
        "spock-core/src/main/java/org/spockframework/mock/runtime/MockConfiguration.java": [
            {
                "fromLine": 27,
                "toLine": 27,
                "oldContent": "public class MockConfiguration implements IMockConfiguration {",
                "newContent": "public class MockConfiguration implements IMockConfiguration, SlotOwnerDetails, ExpressionDetails {"
            },
            {
                "fromLine": 28,
                "toLine": 28,
                "oldContent": "  private final String name;",
                "newContent": "  // Implements SlotOwnerDetails\n  private final String name;"
            },
            {
                "fromLine": 29,
                "toLine": 29,
                "oldContent": "  private final Type type;",
                "newContent": "  private final Type type; // Implements SlotOwnerDetails & ExpressionDetails"
            },
            {
                "fromLine": 30,
                "toLine": 30,
                "oldContent": "  private final Object instance;",
                "newContent": "  private final Object instance; // Implements SlotOwnerDetails"
            },
            {
                "fromLine": 31,
                "toLine": 34,
                "oldContent": "  private final MockNature nature;\n  private final MockImplementation implementation;\n  private final List<Object> constructorArgs;\n  private final List<Class<?>> additionalInterfaces;",
                "newContent": "\n  // Implements ExpressionDetails\n  private final String text; // from ExpressionDetails\n  private final TextPosition position; // from ExpressionDetails\n\n  private final MockNature nature;\n  private final MockImplementation implementation;\n  private final List<Object> constructorArgs;\n  private final List<Class<?>> additionalInterfaces;"
            },
            {
                "fromLine": 42,
                "toLine": 42,
                "oldContent": "      MockImplementation implementation, Map<String, Object> options) {",
                "newContent": "      MockImplementation implementation, Map<String, Object> options, String text, TextPosition position) {"
            },
            {
                "fromLine": 43,
                "toLine": 43,
                "oldContent": "    this.name = name;",
                "newContent": "    this.name = name;\n    this.text = text;\n    this.position = position;"
            }
        ],
        "spock-core/src/main/java/org/spockframework/mock/runtime/MockObject.java": [
            {
                "fromLine": 25,
                "toLine": 25,
                "oldContent": "public class MockObject implements IMockObject {",
                "newContent": "public class MockObject implements IMockObject, SlotOwnerDetails {"
            },
            {
                "fromLine": 26,
                "toLine": 28,
                "oldContent": "  private final String name;\n  private final Type type;\n  private final Object instance;",
                "newContent": "  // Implements SlotOwnerDetails\n  private final String name;\n  private final Type type;\n  private final Object instance;"
            }
        ],
        "spock-core/src/main/java/org/spockframework/mock/TooManyInvocationsError.java": [
            {
                "fromLine": 28,
                "toLine": 28,
                "oldContent": "public class TooManyInvocationsError extends InteractionNotSatisfiedError {",
                "newContent": "public class TooManyInvocationsError extends InteractionNotSatisfiedError, SlotOwnerDetails {"
            },
            {
                "fromLine": 29,
                "toLine": 29,
                "oldContent": "  private static final long serialVersionUID = 1L;",
                "newContent": ""
            },
            {
                "fromLine": 30,
                "toLine": 32,
                "oldContent": "\n  private final transient IMockInteraction interaction;\n  private final transient List<IMockInvocation> acceptedInvocations;",
                "newContent": "  // Implements SlotOwnerDetails\n  private final String name;\n  private final Type type;\n  private final Object instance;"
            },
            {
                "fromLine": 33,
                "toLine": 33,
                "oldContent": "  private String message;",
                "newContent": ""
            },
            {
                "fromLine": 35,
                "toLine": 35,
                "oldContent": "  public TooManyInvocationsError(IMockInteraction interaction, List<IMockInvocation> acceptedInvocations) {",
                "newContent": "  public TooManyInvocationsError(IMockInteraction interaction, List<IMockInvocation> acceptedInvocations, String name, Type type, Object instance) {"
            },
            {
                "fromLine": 36,
                "toLine": 36,
                "oldContent": "    this.interaction = interaction;",
                "newContent": "    this.interaction = interaction;\n    this.name = name;\n    this.type = type;\n    this.instance = instance;"
            }
        ],
        "spock-core/src/main/java/org/spockframework/mock/WrongInvocationOrderError.java": [
            {
                "fromLine": 46,
                "toLine": 46,
                "oldContent": "public class WrongInvocationOrderError extends InteractionNotSatisfiedError {",
                "newContent": "public class WrongInvocationOrderError extends InteractionNotSatisfiedError, SlotOwnerDetails {"
            },
            {
                "fromLine": 47,
                "toLine": 47,
                "oldContent": "  private static final long serialVersionUID = 1L;",
                "newContent": ""
            },
            {
                "fromLine": 48,
                "toLine": 50,
                "oldContent": "\n  private final transient IMockInteraction interaction;\n  private final transient IMockInvocation lastInvocation;",
                "newContent": "  // Implements SlotOwnerDetails\n  private final String name;\n  private final Type type;\n  private final Object instance;"
            },
            {
                "fromLine": 51,
                "toLine": 51,
                "oldContent": "  private final transient List<IMockInvocation> previousInvocationsInReverseOrder;",
                "newContent": ""
            },
            {
                "fromLine": 52,
                "toLine": 52,
                "oldContent": "  private String message;",
                "newContent": ""
            },
            {
                "fromLine": 54,
                "toLine": 54,
                "oldContent": "  public WrongInvocationOrderError(IMockInteraction interaction, IMockInvocation lastInvocation,",
                "newContent": "  public WrongInvocationOrderError(IMockInteraction interaction, IMockInvocation lastInvocation, String name, Type type, Object instance,"
            },
            {
                "fromLine": 55,
                "toLine": 55,
                "oldContent": "                                   Deque<IMockInvocation> previousInvocationsInReverseOrder) {",
                "newContent": "                                   Deque<IMockInvocation> previousInvocationsInReverseOrder) {\n    this.name = name;\n    this.type = type;\n    this.instance = instance;"
            }
        ],
        "spock-core/src/main/java/org/spockframework/mock/runtime/InteractionBuilder.java": [
            {
                "fromLine": 32,
                "toLine": 32,
                "oldContent": "public class InteractionBuilder {",
                "newContent": "public class InteractionBuilder implements SlotOwnerDetails {"
            },
            {
                "fromLine": 33,
                "toLine": 34,
                "oldContent": "  private final int line;\n  private final int column;",
                "newContent": "  private final SlotOwnerDetails ownerDetails;"
            },
            {
                "fromLine": 35,
                "toLine": 35,
                "oldContent": "  private final String text;",
                "newContent": ""
            }
        ],
        "spock-core/src/main/java/org/spockframework/mock/runtime/MockInteraction.java": [
            {
                "fromLine": 36,
                "toLine": 36,
                "oldContent": "public class MockInteraction implements IMockInteraction {",
                "newContent": "public class MockInteraction implements IMockInteraction, SlotOwnerDetails {"
            },
            {
                "fromLine": 37,
                "toLine": 38,
                "oldContent": "  private final int line;\n  private final int column;",
                "newContent": "  private final SlotOwnerDetails ownerDetails;"
            },
            {
                "fromLine": 39,
                "toLine": 39,
                "oldContent": "  private final String text;",
                "newContent": ""
            }
        ],
        "spock-core/src/main/java/org/spockframework/runtime/ExpressionInfoBuilder.java": [
            {
                "fromLine": 30,
                "toLine": 30,
                "oldContent": "public class ExpressionInfoBuilder {",
                "newContent": "public class ExpressionInfoBuilder implements ExpressionDetails {"
            },
            {
                "fromLine": 31,
                "toLine": 33,
                "oldContent": "  private final String text;\n  private final String adjustedText;\n  private final TextPosition startPos;",
                "newContent": "  private final ExpressionDetails expressionDetails;\n  private final String adjustedText;"
            }
        ],
        "spock-core/src/main/java/org/spockframework/runtime/SpecificationContext.java": [
            {
                "fromLine": 10,
                "toLine": 10,
                "oldContent": "  private volatile SpecInfo currentSpec;",
                "newContent": "  private final ExpressionDetails expressionDetails;"
            },
            {
                "fromLine": 11,
                "toLine": 13,
                "oldContent": "  private volatile FeatureInfo currentFeature;\n  private volatile IterationInfo currentIteration;\n",
                "newContent": ""
            }
        ],
        "spock-core/src/main/java/org/spockframework/runtime/SpockExecutionContext.java": [
            {
                "fromLine": 32,
                "toLine": 32,
                "oldContent": "\n  private FeatureInfo currentFeature;",
                "newContent": "  private final ExpressionDetails expressionDetails;"
            },
            {
                "fromLine": 34,
                "toLine": 34,
                "oldContent": "  private IterationInfo currentIteration;",
                "newContent": ""
            }
        ]
    },
    "extractedClasses":{
        "src/main/java/org/spockframework/util/SlotOwnerDetails.java": "package org.spockframework.util;\n\nimport java.lang.reflect.Type;\n\npublic interface SlotOwnerDetails {\n    String getName();\n    Type getOwnerType();\n    Object getOwner();\n}",
        "src/main/java/org/spockframework/util/ExpressionDetails.java": "package org.spockframework.util;\n\nimport org.spockframework.runtime.model.TextPosition;\nimport java.lang.reflect.Type;\nimport java.util.List;\n\npublic interface ExpressionDetails {\n    String getText();\n    TextPosition getPosition();\n    Type getType();\n    List<Object> getValues();\n}"
    }
}